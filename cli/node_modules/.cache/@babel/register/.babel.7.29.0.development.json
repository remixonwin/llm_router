{"{\"assumptions\":{},\"sourceRoot\":\"/home/remixonwin/Documents/llm_router/cli/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/remixonwin/Documents/llm_router/cli\",\"filename\":\"/home/remixonwin/Documents/llm_router/cli/src/index.jsx\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/remixonwin/Documents/llm_router/cli\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"runtime\":\"automatic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.29.0:development":{"value":{"code":"\"use strict\";\n\nconst React = require('react');\nconst {\n  render,\n  Box,\n  Text\n} = require('ink');\nconst {\n  Select\n} = require('@inkjs/ui');\nconst {\n  useState\n} = React;\nconst Models = require('./components/Models');\nconst Providers = require('./components/Providers');\nconst Chat = require('./components/Chat');\nfunction App() {\n  const [view, setView] = useState('menu');\n  const options = [{\n    label: 'Models',\n    value: 'models'\n  }, {\n    label: 'Providers',\n    value: 'providers'\n  }, {\n    label: 'Chat (streaming)',\n    value: 'chat'\n  }, {\n    label: 'Auth: Set Token',\n    value: 'auth_set'\n  }, {\n    label: 'Auth: Clear Token',\n    value: 'auth_clear'\n  }, {\n    label: 'Health',\n    value: 'health'\n  }, {\n    label: 'Exit',\n    value: 'exit'\n  }];\n  function handleChange(value) {\n    if (value === 'exit') process.exit(0);\n    setView(value);\n  }\n  if (view === 'menu') {\n    return React.createElement(Box, {\n      flexDirection: 'column'\n    }, React.createElement(Text, {\n      color: 'cyan'\n    }, 'Intelligent LLM Router — CLI'), React.createElement(Text, {\n      dimColor: true\n    }, 'Choose an action:'), React.createElement(Select, {\n      options,\n      onChange: handleChange\n    }));\n  }\n  if (view === 'models') return React.createElement(Box, {\n    flexDirection: 'column'\n  }, React.createElement(BackWrapper, null, React.createElement(Models, null)));\n  if (view === 'providers') return React.createElement(Box, {\n    flexDirection: 'column'\n  }, React.createElement(BackWrapper, null, React.createElement(Providers, null)));\n  if (view === 'chat') return React.createElement(Box, {\n    flexDirection: 'column'\n  }, React.createElement(BackWrapper, null, React.createElement(Chat, null)));\n  if (view === 'health') {\n    const api = require('./api');\n    const {\n      useEffect,\n      useState\n    } = React;\n    const Health = () => {\n      const [h, setH] = useState(null);\n      useEffect(() => {\n        api.get('/health').then(setH).catch(e => setH({\n          error: String(e)\n        }));\n      }, []);\n      if (!h) return React.createElement(Text, null, 'Checking health...');\n      return React.createElement(Text, null, `Status: ${h.status} — providers ${h.providers_available.length}/${h.providers_total}`);\n    };\n    return React.createElement(Box, {\n      flexDirection: 'column'\n    }, React.createElement(BackWrapper, null, React.createElement(Health, null)));\n  }\n  if (view === 'auth_set') {\n    const TextInput = require('ink-text-input').default;\n    const cfg = require('./config');\n    const Auth = () => {\n      const {\n        useState\n      } = React;\n      const [val, setVal] = useState('');\n      return React.createElement(Box, {\n        flexDirection: 'column'\n      }, React.createElement(Text, null, 'Paste API token (will be saved to ~/.llm-router-cli/config.json):'), React.createElement(TextInput, {\n        value: val,\n        onChange: setVal,\n        onSubmit: () => {\n          cfg.setToken(val);\n          process.exit(0);\n        }\n      }));\n    };\n    return React.createElement(Box, {\n      flexDirection: 'column'\n    }, React.createElement(BackWrapper, null, React.createElement(Auth, null)));\n  }\n  if (view === 'auth_clear') {\n    const cfg = require('./config');\n    cfg.clearToken();\n    return React.createElement(Box, {\n      flexDirection: 'column'\n    }, React.createElement(Text, null, 'Token cleared.'), React.createElement(Text, {\n      dimColor: true\n    }, 'Press ENTER to return.'), React.createElement(BackWrapper, null));\n  }\n  return React.createElement(Text, null, 'Unknown view');\n}\nfunction BackWrapper({\n  children\n}) {\n  const {\n    useInput\n  } = require('ink');\n  const [back, setBack] = useState(false);\n  useInput((input, key) => {\n    if (key.escape || key.ctrl && input === 'c') process.exit(0);\n    if (key.return) setBack(true);\n  });\n  if (back) return React.createElement(App, null);\n  return React.createElement(Box, {\n    flexDirection: 'column'\n  }, children, React.createElement(Text, {\n    dimColor: true\n  }, '\\nPress ENTER to return to menu, ESC to quit'));\n}\nrender(React.createElement(App, null));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlcXVpcmUiLCJyZW5kZXIiLCJCb3giLCJUZXh0IiwiU2VsZWN0IiwidXNlU3RhdGUiLCJNb2RlbHMiLCJQcm92aWRlcnMiLCJDaGF0IiwiQXBwIiwidmlldyIsInNldFZpZXciLCJvcHRpb25zIiwibGFiZWwiLCJ2YWx1ZSIsImhhbmRsZUNoYW5nZSIsInByb2Nlc3MiLCJleGl0IiwiY3JlYXRlRWxlbWVudCIsImZsZXhEaXJlY3Rpb24iLCJjb2xvciIsImRpbUNvbG9yIiwib25DaGFuZ2UiLCJCYWNrV3JhcHBlciIsImFwaSIsInVzZUVmZmVjdCIsIkhlYWx0aCIsImgiLCJzZXRIIiwiZ2V0IiwidGhlbiIsImNhdGNoIiwiZSIsImVycm9yIiwiU3RyaW5nIiwic3RhdHVzIiwicHJvdmlkZXJzX2F2YWlsYWJsZSIsImxlbmd0aCIsInByb3ZpZGVyc190b3RhbCIsIlRleHRJbnB1dCIsImRlZmF1bHQiLCJjZmciLCJBdXRoIiwidmFsIiwic2V0VmFsIiwib25TdWJtaXQiLCJzZXRUb2tlbiIsImNsZWFyVG9rZW4iLCJjaGlsZHJlbiIsInVzZUlucHV0IiwiYmFjayIsInNldEJhY2siLCJpbnB1dCIsImtleSIsImVzY2FwZSIsImN0cmwiLCJyZXR1cm4iXSwic291cmNlUm9vdCI6Ii9ob21lL3JlbWl4b253aW4vRG9jdW1lbnRzL2xsbV9yb3V0ZXIvY2xpL3NyYy8iLCJzb3VyY2VzIjpbImluZGV4LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5jb25zdCB7IHJlbmRlciwgQm94LCBUZXh0IH0gPSByZXF1aXJlKCdpbmsnKTtcbmNvbnN0IHsgU2VsZWN0IH0gPSByZXF1aXJlKCdAaW5ranMvdWknKTtcbmNvbnN0IHsgdXNlU3RhdGUgfSA9IFJlYWN0O1xuXG5jb25zdCBNb2RlbHMgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvTW9kZWxzJyk7XG5jb25zdCBQcm92aWRlcnMgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvUHJvdmlkZXJzJyk7XG5jb25zdCBDaGF0ID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL0NoYXQnKTtcblxuZnVuY3Rpb24gQXBwKCkge1xuICBjb25zdCBbdmlldywgc2V0Vmlld10gPSB1c2VTdGF0ZSgnbWVudScpO1xuXG4gIGNvbnN0IG9wdGlvbnMgPSBbXG4gICAgeyBsYWJlbDogJ01vZGVscycsIHZhbHVlOiAnbW9kZWxzJyB9LFxuICAgIHsgbGFiZWw6ICdQcm92aWRlcnMnLCB2YWx1ZTogJ3Byb3ZpZGVycycgfSxcbiAgICB7IGxhYmVsOiAnQ2hhdCAoc3RyZWFtaW5nKScsIHZhbHVlOiAnY2hhdCcgfSxcbiAgICB7IGxhYmVsOiAnQXV0aDogU2V0IFRva2VuJywgdmFsdWU6ICdhdXRoX3NldCcgfSxcbiAgICB7IGxhYmVsOiAnQXV0aDogQ2xlYXIgVG9rZW4nLCB2YWx1ZTogJ2F1dGhfY2xlYXInIH0sXG4gICAgeyBsYWJlbDogJ0hlYWx0aCcsIHZhbHVlOiAnaGVhbHRoJyB9LFxuICAgIHsgbGFiZWw6ICdFeGl0JywgdmFsdWU6ICdleGl0JyB9LFxuICBdO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gJ2V4aXQnKSBwcm9jZXNzLmV4aXQoMCk7XG4gICAgc2V0Vmlldyh2YWx1ZSk7XG4gIH1cblxuICBpZiAodmlldyA9PT0gJ21lbnUnKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nIH0sXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIHsgY29sb3I6ICdjeWFuJyB9LCAnSW50ZWxsaWdlbnQgTExNIFJvdXRlciDigJQgQ0xJJyksXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIHsgZGltQ29sb3I6IHRydWUgfSwgJ0Nob29zZSBhbiBhY3Rpb246JyksXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFNlbGVjdCwgeyBvcHRpb25zLCBvbkNoYW5nZTogaGFuZGxlQ2hhbmdlIH0pXG4gICAgKTtcbiAgfVxuXG4gIGlmICh2aWV3ID09PSAnbW9kZWxzJykgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmFja1dyYXBwZXIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTW9kZWxzLCBudWxsKSkpO1xuICBpZiAodmlldyA9PT0gJ3Byb3ZpZGVycycpIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEJhY2tXcmFwcGVyLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFByb3ZpZGVycywgbnVsbCkpKTtcbiAgaWYgKHZpZXcgPT09ICdjaGF0JykgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmFja1dyYXBwZXIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hhdCwgbnVsbCkpKTtcblxuICBpZiAodmlldyA9PT0gJ2hlYWx0aCcpIHtcbiAgICBjb25zdCBhcGkgPSByZXF1aXJlKCcuL2FwaScpO1xuICAgIGNvbnN0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9ID0gUmVhY3Q7XG4gICAgY29uc3QgSGVhbHRoID0gKCkgPT4ge1xuICAgICAgY29uc3QgW2gsIHNldEhdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgICB1c2VFZmZlY3QoKCkgPT4geyBhcGkuZ2V0KCcvaGVhbHRoJykudGhlbihzZXRIKS5jYXRjaCgoZSkgPT4gc2V0SCh7IGVycm9yOiBTdHJpbmcoZSkgfSkpOyB9LCBbXSk7XG4gICAgICBpZiAoIWgpIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIG51bGwsICdDaGVja2luZyBoZWFsdGguLi4nKTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIG51bGwsIGBTdGF0dXM6ICR7aC5zdGF0dXN9IOKAlCBwcm92aWRlcnMgJHtoLnByb3ZpZGVyc19hdmFpbGFibGUubGVuZ3RofS8ke2gucHJvdmlkZXJzX3RvdGFsfWApO1xuICAgIH07XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmFja1dyYXBwZXIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhbHRoLCBudWxsKSkpO1xuICB9XG5cbiAgaWYgKHZpZXcgPT09ICdhdXRoX3NldCcpIHtcbiAgICBjb25zdCBUZXh0SW5wdXQgPSByZXF1aXJlKCdpbmstdGV4dC1pbnB1dCcpLmRlZmF1bHQ7XG4gICAgY29uc3QgY2ZnID0gcmVxdWlyZSgnLi9jb25maWcnKTtcbiAgICBjb25zdCBBdXRoID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyB1c2VTdGF0ZSB9ID0gUmVhY3Q7XG4gICAgICBjb25zdCBbdmFsLCBzZXRWYWxdID0gdXNlU3RhdGUoJycpO1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIEJveCxcbiAgICAgICAgeyBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIG51bGwsICdQYXN0ZSBBUEkgdG9rZW4gKHdpbGwgYmUgc2F2ZWQgdG8gfi8ubGxtLXJvdXRlci1jbGkvY29uZmlnLmpzb24pOicpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHRJbnB1dCwgeyB2YWx1ZTogdmFsLCBvbkNoYW5nZTogc2V0VmFsLCBvblN1Ym1pdDogKCkgPT4geyBjZmcuc2V0VG9rZW4odmFsKTsgcHJvY2Vzcy5leGl0KDApOyB9IH0pXG4gICAgICApO1xuICAgIH07XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQmFja1dyYXBwZXIsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXV0aCwgbnVsbCkpKTtcbiAgfVxuXG4gIGlmICh2aWV3ID09PSAnYXV0aF9jbGVhcicpIHtcbiAgICBjb25zdCBjZmcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xuICAgIGNmZy5jbGVhclRva2VuKCk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQm94LCB7IGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwgbnVsbCwgJ1Rva2VuIGNsZWFyZWQuJyksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dCwgeyBkaW1Db2xvcjogdHJ1ZSB9LCAnUHJlc3MgRU5URVIgdG8gcmV0dXJuLicpLCBSZWFjdC5jcmVhdGVFbGVtZW50KEJhY2tXcmFwcGVyLCBudWxsKSk7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCBudWxsLCAnVW5rbm93biB2aWV3Jyk7XG59XG5cbmZ1bmN0aW9uIEJhY2tXcmFwcGVyKHsgY2hpbGRyZW4gfSkge1xuICBjb25zdCB7IHVzZUlucHV0IH0gPSByZXF1aXJlKCdpbmsnKTtcbiAgY29uc3QgW2JhY2ssIHNldEJhY2tdID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VJbnB1dCgoaW5wdXQsIGtleSkgPT4ge1xuICAgIGlmIChrZXkuZXNjYXBlIHx8IChrZXkuY3RybCAmJiBpbnB1dCA9PT0gJ2MnKSkgcHJvY2Vzcy5leGl0KDApO1xuICAgIGlmIChrZXkucmV0dXJuKSBzZXRCYWNrKHRydWUpO1xuICB9KTtcbiAgaWYgKGJhY2spIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFwcCwgbnVsbCk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyB9LCBjaGlsZHJlbiwgUmVhY3QuY3JlYXRlRWxlbWVudChUZXh0LCB7IGRpbUNvbG9yOiB0cnVlIH0sICdcXG5QcmVzcyBFTlRFUiB0byByZXR1cm4gdG8gbWVudSwgRVNDIHRvIHF1aXQnKSk7XG59XG5cbnJlbmRlcihSZWFjdC5jcmVhdGVFbGVtZW50KEFwcCwgbnVsbCkpO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUM5QixNQUFNO0VBQUVDLE1BQU07RUFBRUMsR0FBRztFQUFFQztBQUFLLENBQUMsR0FBR0gsT0FBTyxDQUFDLEtBQUssQ0FBQztBQUM1QyxNQUFNO0VBQUVJO0FBQU8sQ0FBQyxHQUFHSixPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3ZDLE1BQU07RUFBRUs7QUFBUyxDQUFDLEdBQUdOLEtBQUs7QUFFMUIsTUFBTU8sTUFBTSxHQUFHTixPQUFPLENBQUMscUJBQXFCLENBQUM7QUFDN0MsTUFBTU8sU0FBUyxHQUFHUCxPQUFPLENBQUMsd0JBQXdCLENBQUM7QUFDbkQsTUFBTVEsSUFBSSxHQUFHUixPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFFekMsU0FBU1MsR0FBR0EsQ0FBQSxFQUFHO0VBQ2IsTUFBTSxDQUFDQyxJQUFJLEVBQUVDLE9BQU8sQ0FBQyxHQUFHTixRQUFRLENBQUMsTUFBTSxDQUFDO0VBRXhDLE1BQU1PLE9BQU8sR0FBRyxDQUNkO0lBQUVDLEtBQUssRUFBRSxRQUFRO0lBQUVDLEtBQUssRUFBRTtFQUFTLENBQUMsRUFDcEM7SUFBRUQsS0FBSyxFQUFFLFdBQVc7SUFBRUMsS0FBSyxFQUFFO0VBQVksQ0FBQyxFQUMxQztJQUFFRCxLQUFLLEVBQUUsa0JBQWtCO0lBQUVDLEtBQUssRUFBRTtFQUFPLENBQUMsRUFDNUM7SUFBRUQsS0FBSyxFQUFFLGlCQUFpQjtJQUFFQyxLQUFLLEVBQUU7RUFBVyxDQUFDLEVBQy9DO0lBQUVELEtBQUssRUFBRSxtQkFBbUI7SUFBRUMsS0FBSyxFQUFFO0VBQWEsQ0FBQyxFQUNuRDtJ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","map":{"version":3,"names":["React","require","render","Box","Text","Select","useState","Models","Providers","Chat","App","view","setView","options","label","value","handleChange","process","exit","createElement","flexDirection","color","dimColor","onChange","BackWrapper","api","useEffect","Health","h","setH","get","then","catch","e","error","String","status","providers_available","length","providers_total","TextInput","default","cfg","Auth","val","setVal","onSubmit","setToken","clearToken","children","useInput","back","setBack","input","key","escape","ctrl","return"],"sourceRoot":"/home/remixonwin/Documents/llm_router/cli/src/","sources":["index.jsx"],"sourcesContent":["const React = require('react');\nconst { render, Box, Text } = require('ink');\nconst { Select } = require('@inkjs/ui');\nconst { useState } = React;\n\nconst Models = require('./components/Models');\nconst Providers = require('./components/Providers');\nconst Chat = require('./components/Chat');\n\nfunction App() {\n  const [view, setView] = useState('menu');\n\n  const options = [\n    { label: 'Models', value: 'models' },\n    { label: 'Providers', value: 'providers' },\n    { label: 'Chat (streaming)', value: 'chat' },\n    { label: 'Auth: Set Token', value: 'auth_set' },\n    { label: 'Auth: Clear Token', value: 'auth_clear' },\n    { label: 'Health', value: 'health' },\n    { label: 'Exit', value: 'exit' },\n  ];\n\n  function handleChange(value) {\n    if (value === 'exit') process.exit(0);\n    setView(value);\n  }\n\n  if (view === 'menu') {\n    return React.createElement(Box, { flexDirection: 'column' },\n      React.createElement(Text, { color: 'cyan' }, 'Intelligent LLM Router — CLI'),\n      React.createElement(Text, { dimColor: true }, 'Choose an action:'),\n      React.createElement(Select, { options, onChange: handleChange })\n    );\n  }\n\n  if (view === 'models') return React.createElement(Box, { flexDirection: 'column' }, React.createElement(BackWrapper, null, React.createElement(Models, null)));\n  if (view === 'providers') return React.createElement(Box, { flexDirection: 'column' }, React.createElement(BackWrapper, null, React.createElement(Providers, null)));\n  if (view === 'chat') return React.createElement(Box, { flexDirection: 'column' }, React.createElement(BackWrapper, null, React.createElement(Chat, null)));\n\n  if (view === 'health') {\n    const api = require('./api');\n    const { useEffect, useState } = React;\n    const Health = () => {\n      const [h, setH] = useState(null);\n      useEffect(() => { api.get('/health').then(setH).catch((e) => setH({ error: String(e) })); }, []);\n      if (!h) return React.createElement(Text, null, 'Checking health...');\n      return React.createElement(Text, null, `Status: ${h.status} — providers ${h.providers_available.length}/${h.providers_total}`);\n    };\n    return React.createElement(Box, { flexDirection: 'column' }, React.createElement(BackWrapper, null, React.createElement(Health, null)));\n  }\n\n  if (view === 'auth_set') {\n    const TextInput = require('ink-text-input').default;\n    const cfg = require('./config');\n    const Auth = () => {\n      const { useState } = React;\n      const [val, setVal] = useState('');\n      return React.createElement(\n        Box,\n        { flexDirection: 'column' },\n        React.createElement(Text, null, 'Paste API token (will be saved to ~/.llm-router-cli/config.json):'),\n        React.createElement(TextInput, { value: val, onChange: setVal, onSubmit: () => { cfg.setToken(val); process.exit(0); } })\n      );\n    };\n    return React.createElement(Box, { flexDirection: 'column' }, React.createElement(BackWrapper, null, React.createElement(Auth, null)));\n  }\n\n  if (view === 'auth_clear') {\n    const cfg = require('./config');\n    cfg.clearToken();\n    return React.createElement(Box, { flexDirection: 'column' }, React.createElement(Text, null, 'Token cleared.'), React.createElement(Text, { dimColor: true }, 'Press ENTER to return.'), React.createElement(BackWrapper, null));\n  }\n\n  return React.createElement(Text, null, 'Unknown view');\n}\n\nfunction BackWrapper({ children }) {\n  const { useInput } = require('ink');\n  const [back, setBack] = useState(false);\n  useInput((input, key) => {\n    if (key.escape || (key.ctrl && input === 'c')) process.exit(0);\n    if (key.return) setBack(true);\n  });\n  if (back) return React.createElement(App, null);\n  return React.createElement(Box, { flexDirection: 'column' }, children, React.createElement(Text, { dimColor: true }, '\\nPress ENTER to return to menu, ESC to quit'));\n}\n\nrender(React.createElement(App, null));\n"],"mappings":"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","ignoreList":[]}},"mtime":1771622387595},"{\"assumptions\":{},\"sourceRoot\":\"/home/remixonwin/Documents/llm_router/cli/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/remixonwin/Documents/llm_router/cli\",\"filename\":\"/home/remixonwin/Documents/llm_router/cli/test/run_tests.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/remixonwin/Documents/llm_router/cli\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"runtime\":\"automatic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.29.0:development":{"value":{"code":"\"use strict\";\n\nconst api = require('../src/api');\nconst cfg = require('../src/config');\nasync function assert(condition, msg) {\n  if (!condition) throw new Error(msg || 'Assertion failed');\n}\nasync function testHealth() {\n  console.log('Testing /health...');\n  const h = await api.get('/health');\n  console.log('health:', h.status);\n  await assert(h && h.status, '/health missing status');\n}\nasync function testModels() {\n  console.log('Testing /v1/models...');\n  const m = await api.get('/v1/models');\n  console.log('models count:', (m.data || []).length);\n  await assert(Array.isArray(m.data), '/v1/models response malformed');\n}\nasync function testProviders() {\n  console.log('Testing /providers...');\n  const p = await api.get('/providers');\n  console.log('providers keys:', Object.keys(p.providers || {}).length);\n  await assert(p.providers, '/providers missing');\n}\nasync function testAuthStorage() {\n  console.log('Testing token storage...');\n  cfg.setToken('test-token-123');\n  const t = cfg.getToken();\n  console.log('token stored:', t === 'test-token-123');\n  await assert(t === 'test-token-123', 'token did not persist');\n  cfg.clearToken();\n  await assert(!cfg.getToken(), 'token did not clear');\n}\nasync function testChat() {\n  console.log('Testing /v1/chat/completions (stream)...');\n  const payload = {\n    messages: [{\n      role: 'user',\n      content: 'Hello from CLI test'\n    }],\n    stream: true\n  };\n  await new Promise((resolve, reject) => {\n    let acc = '';\n    api.postStream('/v1/chat/completions', payload, chunk => {\n      acc += chunk;\n      process.stdout.write(chunk);\n    }, () => {\n      console.log('\\n--done--');\n      resolve(acc);\n    }, err => {\n      reject(err);\n    });\n  });\n}\nasync function runAll() {\n  try {\n    await testHealth();\n    await testModels();\n    await testProviders();\n    await testAuthStorage();\n    await testChat();\n    console.log('\\nAll tests passed');\n    process.exit(0);\n  } catch (e) {\n    console.error('\\nTest failed:', e);\n    process.exit(2);\n  }\n}\nrunAll();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcGkiLCJyZXF1aXJlIiwiY2ZnIiwiYXNzZXJ0IiwiY29uZGl0aW9uIiwibXNnIiwiRXJyb3IiLCJ0ZXN0SGVhbHRoIiwiY29uc29sZSIsImxvZyIsImgiLCJnZXQiLCJzdGF0dXMiLCJ0ZXN0TW9kZWxzIiwibSIsImRhdGEiLCJsZW5ndGgiLCJBcnJheSIsImlzQXJyYXkiLCJ0ZXN0UHJvdmlkZXJzIiwicCIsIk9iamVjdCIsImtleXMiLCJwcm92aWRlcnMiLCJ0ZXN0QXV0aFN0b3JhZ2UiLCJzZXRUb2tlbiIsInQiLCJnZXRUb2tlbiIsImNsZWFyVG9rZW4iLCJ0ZXN0Q2hhdCIsInBheWxvYWQiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50Iiwic3RyZWFtIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJhY2MiLCJwb3N0U3RyZWFtIiwiY2h1bmsiLCJwcm9jZXNzIiwic3Rkb3V0Iiwid3JpdGUiLCJlcnIiLCJydW5BbGwiLCJleGl0IiwiZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yZW1peG9ud2luL0RvY3VtZW50cy9sbG1fcm91dGVyL2NsaS90ZXN0LyIsInNvdXJjZXMiOlsicnVuX3Rlc3RzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFwaSA9IHJlcXVpcmUoJy4uL3NyYy9hcGknKTtcbmNvbnN0IGNmZyA9IHJlcXVpcmUoJy4uL3NyYy9jb25maWcnKTtcblxuYXN5bmMgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbXNnKSB7XG4gIGlmICghY29uZGl0aW9uKSB0aHJvdyBuZXcgRXJyb3IobXNnIHx8ICdBc3NlcnRpb24gZmFpbGVkJyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHRlc3RIZWFsdGgoKSB7XG4gIGNvbnNvbGUubG9nKCdUZXN0aW5nIC9oZWFsdGguLi4nKTtcbiAgY29uc3QgaCA9IGF3YWl0IGFwaS5nZXQoJy9oZWFsdGgnKTtcbiAgY29uc29sZS5sb2coJ2hlYWx0aDonLCBoLnN0YXR1cyk7XG4gIGF3YWl0IGFzc2VydChoICYmIGguc3RhdHVzLCAnL2hlYWx0aCBtaXNzaW5nIHN0YXR1cycpO1xufVxuXG5hc3luYyBmdW5jdGlvbiB0ZXN0TW9kZWxzKCkge1xuICBjb25zb2xlLmxvZygnVGVzdGluZyAvdjEvbW9kZWxzLi4uJyk7XG4gIGNvbnN0IG0gPSBhd2FpdCBhcGkuZ2V0KCcvdjEvbW9kZWxzJyk7XG4gIGNvbnNvbGUubG9nKCdtb2RlbHMgY291bnQ6JywgKG0uZGF0YSB8fCBbXSkubGVuZ3RoKTtcbiAgYXdhaXQgYXNzZXJ0KEFycmF5LmlzQXJyYXkobS5kYXRhKSwgJy92MS9tb2RlbHMgcmVzcG9uc2UgbWFsZm9ybWVkJyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHRlc3RQcm92aWRlcnMoKSB7XG4gIGNvbnNvbGUubG9nKCdUZXN0aW5nIC9wcm92aWRlcnMuLi4nKTtcbiAgY29uc3QgcCA9IGF3YWl0IGFwaS5nZXQoJy9wcm92aWRlcnMnKTtcbiAgY29uc29sZS5sb2coJ3Byb3ZpZGVycyBrZXlzOicsIE9iamVjdC5rZXlzKHAucHJvdmlkZXJzIHx8IHt9KS5sZW5ndGgpO1xuICBhd2FpdCBhc3NlcnQocC5wcm92aWRlcnMsICcvcHJvdmlkZXJzIG1pc3NpbmcnKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdGVzdEF1dGhTdG9yYWdlKCkge1xuICBjb25zb2xlLmxvZygnVGVzdGluZyB0b2tlbiBzdG9yYWdlLi4uJyk7XG4gIGNmZy5zZXRUb2tlbigndGVzdC10b2tlbi0xMjMnKTtcbiAgY29uc3QgdCA9IGNmZy5nZXRUb2tlbigpO1xuICBjb25zb2xlLmxvZygndG9rZW4gc3RvcmVkOicsIHQgPT09ICd0ZXN0LXRva2VuLTEyMycpO1xuICBhd2FpdCBhc3NlcnQodCA9PT0gJ3Rlc3QtdG9rZW4tMTIzJywgJ3Rva2VuIGRpZCBub3QgcGVyc2lzdCcpO1xuICBjZmcuY2xlYXJUb2tlbigpO1xuICBhd2FpdCBhc3NlcnQoIWNmZy5nZXRUb2tlbigpLCAndG9rZW4gZGlkIG5vdCBjbGVhcicpO1xufVxuXG5hc3luYyBmdW5jdGlvbiB0ZXN0Q2hhdCgpIHtcbiAgY29uc29sZS5sb2coJ1Rlc3RpbmcgL3YxL2NoYXQvY29tcGxldGlvbnMgKHN0cmVhbSkuLi4nKTtcbiAgY29uc3QgcGF5bG9hZCA9IHsgbWVzc2FnZXM6IFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogJ0hlbGxvIGZyb20gQ0xJIHRlc3QnIH1dLCBzdHJlYW06IHRydWUgfTtcbiAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBhY2MgPSAnJztcbiAgICBhcGkucG9zdFN0cmVhbSgnL3YxL2NoYXQvY29tcGxldGlvbnMnLCBwYXlsb2FkLFxuICAgICAgKGNodW5rKSA9PiB7IGFjYyArPSBjaHVuazsgcHJvY2Vzcy5zdGRvdXQud3JpdGUoY2h1bmspOyB9LFxuICAgICAgKCkgPT4geyBjb25zb2xlLmxvZygnXFxuLS1kb25lLS0nKTsgcmVzb2x2ZShhY2MpOyB9LFxuICAgICAgKGVycikgPT4geyByZWplY3QoZXJyKTsgfVxuICAgICk7XG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBydW5BbGwoKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgdGVzdEhlYWx0aCgpO1xuICAgIGF3YWl0IHRlc3RNb2RlbHMoKTtcbiAgICBhd2FpdCB0ZXN0UHJvdmlkZXJzKCk7XG4gICAgYXdhaXQgdGVzdEF1dGhTdG9yYWdlKCk7XG4gICAgYXdhaXQgdGVzdENoYXQoKTtcbiAgICBjb25zb2xlLmxvZygnXFxuQWxsIHRlc3RzIHBhc3NlZCcpO1xuICAgIHByb2Nlc3MuZXhpdCgwKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1xcblRlc3QgZmFpbGVkOicsIGUpO1xuICAgIHByb2Nlc3MuZXhpdCgyKTtcbiAgfVxufVxuXG5ydW5BbGwoKTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFDakMsTUFBTUMsR0FBRyxHQUFHRCxPQUFPLENBQUMsZUFBZSxDQUFDO0FBRXBDLGVBQWVFLE1BQU1BLENBQUNDLFNBQVMsRUFBRUMsR0FBRyxFQUFFO0VBQ3BDLElBQUksQ0FBQ0QsU0FBUyxFQUFFLE1BQU0sSUFBSUUsS0FBSyxDQUFDRCxHQUFHLElBQUksa0JBQWtCLENBQUM7QUFDNUQ7QUFFQSxlQUFlRSxVQUFVQSxDQUFBLEVBQUc7RUFDMUJDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9CQUFvQixDQUFDO0VBQ2pDLE1BQU1DLENBQUMsR0FBRyxNQUFNVixHQUFHLENBQUNXLEdBQUcsQ0FBQyxTQUFTLENBQUM7RUFDbENILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFNBQVMsRUFBRUMsQ0FBQyxDQUFDRSxNQUFNLENBQUM7RUFDaEMsTUFBTVQsTUFBTSxDQUFDTyxDQUFDLElBQUlBLENBQUMsQ0FBQ0UsTUFBTSxFQUFFLHdCQUF3QixDQUFDO0FBQ3ZEO0FBRUEsZUFBZUMsVUFBVUEsQ0FBQSxFQUFHO0VBQzFCTCxPQUFPLENBQUNDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQztFQUNwQyxNQUFNSyxDQUFDLEdBQUcsTUFBTWQsR0FBRyxDQUFDVyxHQUFHLENBQUMsWUFBWSxDQUFDO0VBQ3JDSCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsQ0FBQ0ssQ0FBQyxDQUFDQyxJQUFJLElBQUksRUFBRSxFQUFFQyxNQUFNLENBQUM7RUFDbkQsTUFBTWIsTUFBTSxDQUFDYyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0osQ0FBQyxDQUFDQyxJQUFJLENBQUMsRUFBRSwrQkFBK0IsQ0FBQztBQUN0RTtBQUVBLGVBQWVJLGFBQWFBLENBQUEsRUFBRztFQUM3QlgsT0FBTyxDQUFDQyxHQUFHLENBQUMsdUJBQXVCLENBQUM7RUFDcEMsTUFBTVcsQ0FBQyxHQUFHLE1BQU1wQixHQUFHLENBQUNXLEdBQUcsQ0FBQyxZQUFZLENBQUM7RUFDckNILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGlCQUFpQixFQUFFWSxNQUFNLENBQUNDLElBQUksQ0FBQ0YsQ0FBQyxDQUFDRyxTQUFTLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ1AsTUFBTSxDQUFDO0VBQ3JFLE1BQU1iLE1BQU0sQ0FBQ2lCLENBQUMsQ0FBQ0csU0FBUyxFQUFFLG9CQUFvQixDQUFDO0FBQ2pEO0FBRUEsZUFBZUMsZUFBZUEsQ0FBQSxFQUFHO0VBQy9CaEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsMEJBQTBCLENBQUM7RUFDdkNQLEdBQUcsQ0FBQ3VCLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQztFQUM5QixNQUFNQyxDQUFDLEdBQUd4QixHQUFHLENBQUN5QixRQUFRLENBQUMsQ0FBQztFQUN4Qm5CLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWUsRUFBRWlCLENBQUMsS0FBSyxnQkFBZ0IsQ0FBQztFQUNwRCxNQUFNdkIsTUFBTSxDQUFDdUIsQ0FBQyxLQUFLLGdCQUFnQixFQUFFLHVCQUF1QixDQUFDO0VBQzdEeEIsR0FBRyxDQUFDMEIsVUFBVSxDQUFDLENBQUM7RUFDaEIsTUFBTXpCLE1BQU0sQ0FBQyxDQUFDRCxHQUFHLENBQUN5QixRQUFRLENBQUMsQ0FBQyxFQUFFLHFCQUFxQixDQUFDO0FBQ3REO0FBRUEsZUFBZUUsUUFBUUEsQ0FBQSxFQUFHO0VBQ3hCckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsMENBQTBDLENBQUM7RUFDdkQsTUFBTXFCLE9BQU8sR0FBRztJQUFFQyxRQUFRLEVBQUUsQ0FBQztNQUFFQyxJQUFJLEVBQUUsTUFBTTtNQUFFQyxPQUFPLEVBQUU7SUFBc0IsQ0FBQyxDQUFDO0lBQUVDLE1BQU0sRUFBRTtFQUFLLENBQUM7RUFDOUYsTUFBTSxJQUFJQyxPQUFPLENBQUMsQ0FBQ0MsT0FBTyxFQUFFQyxNQUFNLEtBQUs7SUFDckMsSUFBSUMsR0FBRyxHQUFHLEVBQUU7SUFDWnRDLEdBQUcsQ0FBQ3VDLFVBQVUsQ0FBQyxzQkFBc0IsRUFBRVQsT0FBTyxFQUMzQ1UsS0FBSyxJQUFLO01BQUVGLEdBQUcsSUFBSUUsS0FBSztNQUFFQyxPQUFPLENBQUNDLE1BQU0sQ0FBQ0MsS0FBSyxDQUFDSCxLQUFLLENBQUM7SUFBRSxDQUFDLEVBQ3pELE1BQU07TUFBRWhDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFlBQVksQ0FBQztNQUFFMkIsT0FBTyxDQUFDRSxHQUFHLENBQUM7SUFBRSxDQUFDLEVBQ2pETSxHQUFHLElBQUs7TUFBRVAsTUFBTSxDQUFDTyxHQUFHLENBQUM7SUFBRSxDQUMxQixDQUFDO0VBQ0gsQ0FBQyxDQUFDO0FBQ0o7QUFFQSxlQUFlQyxNQUFNQSxDQUFBLEVBQUc7RUFDdEIsSUFBSTtJQUNGLE1BQU10QyxVQUFVLENBQUMsQ0FBQztJQUNsQixNQUFNTSxVQUFVLENBQUMsQ0FBQztJQUNsQixNQUFNTSxhQUFhLENBQUMsQ0FBQztJQUNyQixNQUFNSyxlQUFlLENBQUMsQ0FBQztJQUN2QixNQUFNSyxRQUFRLENBQUMsQ0FBQztJQUNoQnJCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9CQUFvQixDQUFDO0lBQ2pDZ0MsT0FBTyxDQUFDSyxJQUFJLENBQUMsQ0FBQyxDQUFDO0VBQ2pCLENBQUMsQ0FBQyxPQUFPQyxDQUFDLEVBQUU7SUFDVnZDLE9BQU8sQ0FBQ3dDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRUQsQ0FBQyxDQUFDO0lBQ2xDTixPQUFPLENBQUNLLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDakI7QUFDRjtBQUVBRCxNQUFNLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["api","require","cfg","assert","condition","msg","Error","testHealth","console","log","h","get","status","testModels","m","data","length","Array","isArray","testProviders","p","Object","keys","providers","testAuthStorage","setToken","t","getToken","clearToken","testChat","payload","messages","role","content","stream","Promise","resolve","reject","acc","postStream","chunk","process","stdout","write","err","runAll","exit","e","error"],"sourceRoot":"/home/remixonwin/Documents/llm_router/cli/test/","sources":["run_tests.js"],"sourcesContent":["const api = require('../src/api');\nconst cfg = require('../src/config');\n\nasync function assert(condition, msg) {\n  if (!condition) throw new Error(msg || 'Assertion failed');\n}\n\nasync function testHealth() {\n  console.log('Testing /health...');\n  const h = await api.get('/health');\n  console.log('health:', h.status);\n  await assert(h && h.status, '/health missing status');\n}\n\nasync function testModels() {\n  console.log('Testing /v1/models...');\n  const m = await api.get('/v1/models');\n  console.log('models count:', (m.data || []).length);\n  await assert(Array.isArray(m.data), '/v1/models response malformed');\n}\n\nasync function testProviders() {\n  console.log('Testing /providers...');\n  const p = await api.get('/providers');\n  console.log('providers keys:', Object.keys(p.providers || {}).length);\n  await assert(p.providers, '/providers missing');\n}\n\nasync function testAuthStorage() {\n  console.log('Testing token storage...');\n  cfg.setToken('test-token-123');\n  const t = cfg.getToken();\n  console.log('token stored:', t === 'test-token-123');\n  await assert(t === 'test-token-123', 'token did not persist');\n  cfg.clearToken();\n  await assert(!cfg.getToken(), 'token did not clear');\n}\n\nasync function testChat() {\n  console.log('Testing /v1/chat/completions (stream)...');\n  const payload = { messages: [{ role: 'user', content: 'Hello from CLI test' }], stream: true };\n  await new Promise((resolve, reject) => {\n    let acc = '';\n    api.postStream('/v1/chat/completions', payload,\n      (chunk) => { acc += chunk; process.stdout.write(chunk); },\n      () => { console.log('\\n--done--'); resolve(acc); },\n      (err) => { reject(err); }\n    );\n  });\n}\n\nasync function runAll() {\n  try {\n    await testHealth();\n    await testModels();\n    await testProviders();\n    await testAuthStorage();\n    await testChat();\n    console.log('\\nAll tests passed');\n    process.exit(0);\n  } catch (e) {\n    console.error('\\nTest failed:', e);\n    process.exit(2);\n  }\n}\n\nrunAll();\n"],"mappings":"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","ignoreList":[]}},"mtime":1771617001990},"{\"assumptions\":{},\"sourceRoot\":\"/home/remixonwin/Documents/llm_router/cli/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/remixonwin/Documents/llm_router/cli\",\"filename\":\"/home/remixonwin/Documents/llm_router/cli/src/api.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/remixonwin/Documents/llm_router/cli\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"runtime\":\"automatic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.29.0:development":{"value":{"code":"\"use strict\";\n\nconst {\n  request\n} = require('undici');\nconst BASE = process.env.LLM_ROUTER_URL || 'http://localhost:8080';\nconst config = require('./config');\nfunction _authHeaders() {\n  const token = config.getToken();\n  const headers = {\n    'content-type': 'application/json'\n  };\n  if (token) headers['authorization'] = `Bearer ${token}`;\n  return headers;\n}\nasync function get(path) {\n  const url = `${BASE}${path}`;\n  const {\n    body\n  } = await request(url, {\n    method: 'GET'\n  });\n  const text = await body.text();\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\nasync function post(path, data) {\n  const url = `${BASE}${path}`;\n  const {\n    body\n  } = await request(url, {\n    method: 'POST',\n    headers: _authHeaders(),\n    body: JSON.stringify(data)\n  });\n  const text = await body.text();\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\n// Post with streaming support. onChunk will be called with string chunks as they\n// arrive. Returns a Promise that resolves when stream ends.\nasync function postStream(path, data, onChunk, onDone, onError) {\n  const url = `${BASE}${path}`;\n  try {\n    const {\n      body\n    } = await request(url, {\n      method: 'POST',\n      headers: _authHeaders(),\n      body: JSON.stringify(data)\n    });\n\n    // Node stream readable\n    if (body && typeof body.on === 'function') {\n      body.setEncoding && body.setEncoding('utf8');\n\n      // Robust parser: handle plain chunks, server-sent-events (lines starting\n      // with \"data: \"), and partial JSON fragments. We accumulate a buffer\n      // and emit cleaned messages via onChunk.\n      let buf = '';\n      function flushLine(line) {\n        if (!line) return;\n        // SSE style: \"data: {...}\" or multiple data: lines; strip prefix\n        if (line.startsWith('data:')) {\n          const v = line.replace(/^data:\\s*/i, '');\n          try {\n            const parsed = JSON.parse(v);\n            onChunk(JSON.stringify(parsed));\n            return;\n          } catch (e) {\n            onChunk(v);\n            return;\n          }\n        }\n\n        // Try to parse as JSON whole message\n        try {\n          const parsed = JSON.parse(line);\n          onChunk(JSON.stringify(parsed));\n          return;\n        } catch (_) {\n          // Not JSON, emit raw\n          onChunk(line);\n        }\n      }\n      body.on('data', chunk => {\n        try {\n          const s = typeof chunk === 'string' ? chunk : chunk.toString('utf8');\n          buf += s;\n\n          // Split on newlines; keep partial last line in buffer\n          const parts = buf.split(/\\r?\\n/);\n          buf = parts.pop() || '';\n          for (const part of parts) {\n            // Ignore keep-alive lines\n            const trimmed = part.trim();\n            if (!trimmed) continue;\n            flushLine(trimmed);\n          }\n        } catch (e) {\n          // swallow handler errors\n        }\n      });\n      body.on('end', () => {\n        if (buf && buf.trim()) flushLine(buf.trim());\n        onDone && onDone();\n      });\n      body.on('error', err => onError && onError(err));\n      return;\n    }\n\n    // Fallback: attempt to read as text\n    const text = await body.text();\n    onChunk && onChunk(text);\n    onDone && onDone();\n  } catch (err) {\n    onError && onError(err);\n  }\n}\nmodule.exports = {\n  get,\n  post,\n  postStream\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsIkJBU0UiLCJwcm9jZXNzIiwiZW52IiwiTExNX1JPVVRFUl9VUkwiLCJjb25maWciLCJfYXV0aEhlYWRlcnMiLCJ0b2tlbiIsImdldFRva2VuIiwiaGVhZGVycyIsImdldCIsInBhdGgiLCJ1cmwiLCJib2R5IiwibWV0aG9kIiwidGV4dCIsIkpTT04iLCJwYXJzZSIsImUiLCJwb3N0IiwiZGF0YSIsInN0cmluZ2lmeSIsInBvc3RTdHJlYW0iLCJvbkNodW5rIiwib25Eb25lIiwib25FcnJvciIsIm9uIiwic2V0RW5jb2RpbmciLCJidWYiLCJmbHVzaExpbmUiLCJsaW5lIiwic3RhcnRzV2l0aCIsInYiLCJyZXBsYWNlIiwicGFyc2VkIiwiXyIsImNodW5rIiwicyIsInRvU3RyaW5nIiwicGFydHMiLCJzcGxpdCIsInBvcCIsInBhcnQiLCJ0cmltbWVkIiwidHJpbSIsImVyciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3JlbWl4b253aW4vRG9jdW1lbnRzL2xsbV9yb3V0ZXIvY2xpL3NyYy8iLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHJlcXVlc3QgfSA9IHJlcXVpcmUoJ3VuZGljaScpO1xuXG5jb25zdCBCQVNFID0gcHJvY2Vzcy5lbnYuTExNX1JPVVRFUl9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCc7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xuXG5mdW5jdGlvbiBfYXV0aEhlYWRlcnMoKSB7XG4gIGNvbnN0IHRva2VuID0gY29uZmlnLmdldFRva2VuKCk7XG4gIGNvbnN0IGhlYWRlcnMgPSB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTtcbiAgaWYgKHRva2VuKSBoZWFkZXJzWydhdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgcmV0dXJuIGhlYWRlcnM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldChwYXRoKSB7XG4gIGNvbnN0IHVybCA9IGAke0JBU0V9JHtwYXRofWA7XG4gIGNvbnN0IHsgYm9keSB9ID0gYXdhaXQgcmVxdWVzdCh1cmwsIHsgbWV0aG9kOiAnR0VUJyB9KTtcbiAgY29uc3QgdGV4dCA9IGF3YWl0IGJvZHkudGV4dCgpO1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcG9zdChwYXRoLCBkYXRhKSB7XG4gIGNvbnN0IHVybCA9IGAke0JBU0V9JHtwYXRofWA7XG4gIGNvbnN0IHsgYm9keSB9ID0gYXdhaXQgcmVxdWVzdCh1cmwsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiBfYXV0aEhlYWRlcnMoKSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgfSk7XG4gIGNvbnN0IHRleHQgPSBhd2FpdCBib2R5LnRleHQoKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG59XG5cbi8vIFBvc3Qgd2l0aCBzdHJlYW1pbmcgc3VwcG9ydC4gb25DaHVuayB3aWxsIGJlIGNhbGxlZCB3aXRoIHN0cmluZyBjaHVua3MgYXMgdGhleVxuLy8gYXJyaXZlLiBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gc3RyZWFtIGVuZHMuXG5hc3luYyBmdW5jdGlvbiBwb3N0U3RyZWFtKHBhdGgsIGRhdGEsIG9uQ2h1bmssIG9uRG9uZSwgb25FcnJvcikge1xuICBjb25zdCB1cmwgPSBgJHtCQVNFfSR7cGF0aH1gO1xuICB0cnkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gYXdhaXQgcmVxdWVzdCh1cmwsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogX2F1dGhIZWFkZXJzKCksXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KTtcblxuICAgIC8vIE5vZGUgc3RyZWFtIHJlYWRhYmxlXG4gICAgaWYgKGJvZHkgJiYgdHlwZW9mIGJvZHkub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJvZHkuc2V0RW5jb2RpbmcgJiYgYm9keS5zZXRFbmNvZGluZygndXRmOCcpO1xuXG4gICAgICAvLyBSb2J1c3QgcGFyc2VyOiBoYW5kbGUgcGxhaW4gY2h1bmtzLCBzZXJ2ZXItc2VudC1ldmVudHMgKGxpbmVzIHN0YXJ0aW5nXG4gICAgICAvLyB3aXRoIFwiZGF0YTogXCIpLCBhbmQgcGFydGlhbCBKU09OIGZyYWdtZW50cy4gV2UgYWNjdW11bGF0ZSBhIGJ1ZmZlclxuICAgICAgLy8gYW5kIGVtaXQgY2xlYW5lZCBtZXNzYWdlcyB2aWEgb25DaHVuay5cbiAgICAgIGxldCBidWYgPSAnJztcblxuICAgICAgZnVuY3Rpb24gZmx1c2hMaW5lKGxpbmUpIHtcbiAgICAgICAgaWYgKCFsaW5lKSByZXR1cm47XG4gICAgICAgIC8vIFNTRSBzdHlsZTogXCJkYXRhOiB7Li4ufVwiIG9yIG11bHRpcGxlIGRhdGE6IGxpbmVzOyBzdHJpcCBwcmVmaXhcbiAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnZGF0YTonKSkge1xuICAgICAgICAgIGNvbnN0IHYgPSBsaW5lLnJlcGxhY2UoL15kYXRhOlxccyovaSwgJycpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHYpO1xuICAgICAgICAgICAgb25DaHVuayhKU09OLnN0cmluZ2lmeShwYXJzZWQpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBvbkNodW5rKHYpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyeSB0byBwYXJzZSBhcyBKU09OIHdob2xlIG1lc3NhZ2VcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGxpbmUpO1xuICAgICAgICAgIG9uQ2h1bmsoSlNPTi5zdHJpbmdpZnkocGFyc2VkKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgLy8gTm90IEpTT04sIGVtaXQgcmF3XG4gICAgICAgICAgb25DaHVuayhsaW5lKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBib2R5Lm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcyA9IHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycgPyBjaHVuayA6IGNodW5rLnRvU3RyaW5nKCd1dGY4Jyk7XG4gICAgICAgICAgYnVmICs9IHM7XG5cbiAgICAgICAgICAvLyBTcGxpdCBvbiBuZXdsaW5lczsga2VlcCBwYXJ0aWFsIGxhc3QgbGluZSBpbiBidWZmZXJcbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IGJ1Zi5zcGxpdCgvXFxyP1xcbi8pO1xuICAgICAgICAgIGJ1ZiA9IHBhcnRzLnBvcCgpIHx8ICcnO1xuICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgICAgICAgICAgLy8gSWdub3JlIGtlZXAtYWxpdmUgbGluZXNcbiAgICAgICAgICAgIGNvbnN0IHRyaW1tZWQgPSBwYXJ0LnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghdHJpbW1lZCkgY29udGludWU7XG4gICAgICAgICAgICBmbHVzaExpbmUodHJpbW1lZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gc3dhbGxvdyBoYW5kbGVyIGVycm9yc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGJvZHkub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgaWYgKGJ1ZiAmJiBidWYudHJpbSgpKSBmbHVzaExpbmUoYnVmLnRyaW0oKSk7XG4gICAgICAgIG9uRG9uZSAmJiBvbkRvbmUoKTtcbiAgICAgIH0pO1xuICAgICAgYm9keS5vbignZXJyb3InLCAoZXJyKSA9PiBvbkVycm9yICYmIG9uRXJyb3IoZXJyKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2s6IGF0dGVtcHQgdG8gcmVhZCBhcyB0ZXh0XG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IGJvZHkudGV4dCgpO1xuICAgIG9uQ2h1bmsgJiYgb25DaHVuayh0ZXh0KTtcbiAgICBvbkRvbmUgJiYgb25Eb25lKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIG9uRXJyb3IgJiYgb25FcnJvcihlcnIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBnZXQsIHBvc3QsIHBvc3RTdHJlYW0gfTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNO0VBQUVBO0FBQVEsQ0FBQyxHQUFHQyxPQUFPLENBQUMsUUFBUSxDQUFDO0FBRXJDLE1BQU1DLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLGNBQWMsSUFBSSx1QkFBdUI7QUFDbEUsTUFBTUMsTUFBTSxHQUFHTCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRWxDLFNBQVNNLFlBQVlBLENBQUEsRUFBRztFQUN0QixNQUFNQyxLQUFLLEdBQUdGLE1BQU0sQ0FBQ0csUUFBUSxDQUFDLENBQUM7RUFDL0IsTUFBTUMsT0FBTyxHQUFHO0lBQUUsY0FBYyxFQUFFO0VBQW1CLENBQUM7RUFDdEQsSUFBSUYsS0FBSyxFQUFFRSxPQUFPLENBQUMsZUFBZSxDQUFDLEdBQUcsVUFBVUYsS0FBSyxFQUFFO0VBQ3ZELE9BQU9FLE9BQU87QUFDaEI7QUFFQSxlQUFlQyxHQUFHQSxDQUFDQyxJQUFJLEVBQUU7RUFDdkIsTUFBTUMsR0FBRyxHQUFHLEdBQUdYLElBQUksR0FBR1UsSUFBSSxFQUFFO0VBQzVCLE1BQU07SUFBRUU7RUFBSyxDQUFDLEdBQUcsTUFBTWQsT0FB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","map":{"version":3,"names":["request","require","BASE","process","env","LLM_ROUTER_URL","config","_authHeaders","token","getToken","headers","get","path","url","body","method","text","JSON","parse","e","post","data","stringify","postStream","onChunk","onDone","onError","on","setEncoding","buf","flushLine","line","startsWith","v","replace","parsed","_","chunk","s","toString","parts","split","pop","part","trimmed","trim","err","module","exports"],"sourceRoot":"/home/remixonwin/Documents/llm_router/cli/src/","sources":["api.js"],"sourcesContent":["const { request } = require('undici');\n\nconst BASE = process.env.LLM_ROUTER_URL || 'http://localhost:8080';\nconst config = require('./config');\n\nfunction _authHeaders() {\n  const token = config.getToken();\n  const headers = { 'content-type': 'application/json' };\n  if (token) headers['authorization'] = `Bearer ${token}`;\n  return headers;\n}\n\nasync function get(path) {\n  const url = `${BASE}${path}`;\n  const { body } = await request(url, { method: 'GET' });\n  const text = await body.text();\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\nasync function post(path, data) {\n  const url = `${BASE}${path}`;\n  const { body } = await request(url, {\n    method: 'POST',\n    headers: _authHeaders(),\n    body: JSON.stringify(data),\n  });\n  const text = await body.text();\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\n// Post with streaming support. onChunk will be called with string chunks as they\n// arrive. Returns a Promise that resolves when stream ends.\nasync function postStream(path, data, onChunk, onDone, onError) {\n  const url = `${BASE}${path}`;\n  try {\n    const { body } = await request(url, {\n      method: 'POST',\n      headers: _authHeaders(),\n      body: JSON.stringify(data),\n    });\n\n    // Node stream readable\n    if (body && typeof body.on === 'function') {\n      body.setEncoding && body.setEncoding('utf8');\n\n      // Robust parser: handle plain chunks, server-sent-events (lines starting\n      // with \"data: \"), and partial JSON fragments. We accumulate a buffer\n      // and emit cleaned messages via onChunk.\n      let buf = '';\n\n      function flushLine(line) {\n        if (!line) return;\n        // SSE style: \"data: {...}\" or multiple data: lines; strip prefix\n        if (line.startsWith('data:')) {\n          const v = line.replace(/^data:\\s*/i, '');\n          try {\n            const parsed = JSON.parse(v);\n            onChunk(JSON.stringify(parsed));\n            return;\n          } catch (e) {\n            onChunk(v);\n            return;\n          }\n        }\n\n        // Try to parse as JSON whole message\n        try {\n          const parsed = JSON.parse(line);\n          onChunk(JSON.stringify(parsed));\n          return;\n        } catch (_) {\n          // Not JSON, emit raw\n          onChunk(line);\n        }\n      }\n\n      body.on('data', (chunk) => {\n        try {\n          const s = typeof chunk === 'string' ? chunk : chunk.toString('utf8');\n          buf += s;\n\n          // Split on newlines; keep partial last line in buffer\n          const parts = buf.split(/\\r?\\n/);\n          buf = parts.pop() || '';\n          for (const part of parts) {\n            // Ignore keep-alive lines\n            const trimmed = part.trim();\n            if (!trimmed) continue;\n            flushLine(trimmed);\n          }\n        } catch (e) {\n          // swallow handler errors\n        }\n      });\n      body.on('end', () => {\n        if (buf && buf.trim()) flushLine(buf.trim());\n        onDone && onDone();\n      });\n      body.on('error', (err) => onError && onError(err));\n      return;\n    }\n\n    // Fallback: attempt to read as text\n    const text = await body.text();\n    onChunk && onChunk(text);\n    onDone && onDone();\n  } catch (err) {\n    onError && onError(err);\n  }\n}\n\nmodule.exports = { get, post, postStream };\n"],"mappings":"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","ignoreList":[]}},"mtime":1771616984482},"{\"assumptions\":{},\"sourceRoot\":\"/home/remixonwin/Documents/llm_router/cli/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/remixonwin/Documents/llm_router/cli\",\"filename\":\"/home/remixonwin/Documents/llm_router/cli/src/config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/remixonwin/Documents/llm_router/cli\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"runtime\":\"automatic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.29.0:development":{"value":{"code":"\"use strict\";\n\nconst fs = require('fs');\nconst path = require('path');\nconst os = require('os');\nconst DIR = path.join(os.homedir(), '.llm-router-cli');\nconst FILE = path.join(DIR, 'config.json');\nfunction _ensureDir() {\n  try {\n    fs.mkdirSync(DIR, {\n      recursive: true,\n      mode: 0o700\n    });\n  } catch (e) {\n    // ignore\n  }\n}\nfunction _read() {\n  try {\n    if (!fs.existsSync(FILE)) return {};\n    const raw = fs.readFileSync(FILE, 'utf8');\n    return JSON.parse(raw || '{}');\n  } catch (e) {\n    return {};\n  }\n}\nfunction _write(obj) {\n  _ensureDir();\n  try {\n    fs.writeFileSync(FILE, JSON.stringify(obj, null, 2), {\n      mode: 0o600\n    });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction getToken() {\n  if (process.env.LLM_ROUTER_TOKEN) return process.env.LLM_ROUTER_TOKEN;\n  const cfg = _read();\n  return cfg.token || null;\n}\nfunction setToken(token) {\n  const cfg = _read();\n  cfg.token = token;\n  return _write(cfg);\n}\nfunction clearToken() {\n  const cfg = _read();\n  delete cfg.token;\n  return _write(cfg);\n}\nmodule.exports = {\n  getToken,\n  setToken,\n  clearToken,\n  FILE\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwib3MiLCJESVIiLCJqb2luIiwiaG9tZWRpciIsIkZJTEUiLCJfZW5zdXJlRGlyIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwibW9kZSIsImUiLCJfcmVhZCIsImV4aXN0c1N5bmMiLCJyYXciLCJyZWFkRmlsZVN5bmMiLCJKU09OIiwicGFyc2UiLCJfd3JpdGUiLCJvYmoiLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwiZ2V0VG9rZW4iLCJwcm9jZXNzIiwiZW52IiwiTExNX1JPVVRFUl9UT0tFTiIsImNmZyIsInRva2VuIiwic2V0VG9rZW4iLCJjbGVhclRva2VuIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvcmVtaXhvbndpbi9Eb2N1bWVudHMvbGxtX3JvdXRlci9jbGkvc3JjLyIsInNvdXJjZXMiOlsiY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCBvcyA9IHJlcXVpcmUoJ29zJyk7XG5cbmNvbnN0IERJUiA9IHBhdGguam9pbihvcy5ob21lZGlyKCksICcubGxtLXJvdXRlci1jbGknKTtcbmNvbnN0IEZJTEUgPSBwYXRoLmpvaW4oRElSLCAnY29uZmlnLmpzb24nKTtcblxuZnVuY3Rpb24gX2Vuc3VyZURpcigpIHtcbiAgdHJ5IHtcbiAgICBmcy5ta2RpclN5bmMoRElSLCB7IHJlY3Vyc2l2ZTogdHJ1ZSwgbW9kZTogMG83MDAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBpZ25vcmVcbiAgfVxufVxuXG5mdW5jdGlvbiBfcmVhZCgpIHtcbiAgdHJ5IHtcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMoRklMRSkpIHJldHVybiB7fTtcbiAgICBjb25zdCByYXcgPSBmcy5yZWFkRmlsZVN5bmMoRklMRSwgJ3V0ZjgnKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShyYXcgfHwgJ3t9Jyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbn1cblxuZnVuY3Rpb24gX3dyaXRlKG9iaikge1xuICBfZW5zdXJlRGlyKCk7XG4gIHRyeSB7XG4gICAgZnMud3JpdGVGaWxlU3luYyhGSUxFLCBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpLCB7IG1vZGU6IDBvNjAwIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRva2VuKCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTExNX1JPVVRFUl9UT0tFTikgcmV0dXJuIHByb2Nlc3MuZW52LkxMTV9ST1VURVJfVE9LRU47XG4gIGNvbnN0IGNmZyA9IF9yZWFkKCk7XG4gIHJldHVybiBjZmcudG9rZW4gfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gc2V0VG9rZW4odG9rZW4pIHtcbiAgY29uc3QgY2ZnID0gX3JlYWQoKTtcbiAgY2ZnLnRva2VuID0gdG9rZW47XG4gIHJldHVybiBfd3JpdGUoY2ZnKTtcbn1cblxuZnVuY3Rpb24gY2xlYXJUb2tlbigpIHtcbiAgY29uc3QgY2ZnID0gX3JlYWQoKTtcbiAgZGVsZXRlIGNmZy50b2tlbjtcbiAgcmV0dXJuIF93cml0ZShjZmcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2V0VG9rZW4sIHNldFRva2VuLCBjbGVhclRva2VuLCBGSUxFIH07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNRSxFQUFFLEdBQUdGLE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFFeEIsTUFBTUcsR0FBRyxHQUFHRixJQUFJLENBQUNHLElBQUksQ0FBQ0YsRUFBRSxDQUFDRyxPQUFPLENBQUMsQ0FBQyxFQUFFLGlCQUFpQixDQUFDO0FBQ3RELE1BQU1DLElBQUksR0FBR0wsSUFBSSxDQUFDRyxJQUFJLENBQUNELEdBQUcsRUFBRSxhQUFhLENBQUM7QUFFMUMsU0FBU0ksVUFBVUEsQ0FBQSxFQUFHO0VBQ3BCLElBQUk7SUFDRlIsRUFBRSxDQUFDUyxTQUFTLENBQUNMLEdBQUcsRUFBRTtNQUFFTSxTQUFTLEVBQUUsSUFBSTtNQUFFQyxJQUFJLEVBQUU7SUFBTSxDQUFDLENBQUM7RUFDckQsQ0FBQyxDQUFDLE9BQU9DLENBQUMsRUFBRTtJQUNWO0VBQUE7QUFFSjtBQUVBLFNBQVNDLEtBQUtBLENBQUEsRUFBRztFQUNmLElBQUk7SUFDRixJQUFJLENBQUNiLEVBQUUsQ0FBQ2MsVUFBVSxDQUFDUCxJQUFJLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNuQyxNQUFNUSxHQUFHLEdBQUdmLEVBQUUsQ0FBQ2dCLFlBQVksQ0FBQ1QsSUFBSSxFQUFFLE1BQU0sQ0FBQztJQUN6QyxPQUFPVSxJQUFJLENBQUNDLEtBQUssQ0FBQ0gsR0FBRyxJQUFJLElBQUksQ0FBQztFQUNoQyxDQUFDLENBQUMsT0FBT0gsQ0FBQyxFQUFFO0lBQ1YsT0FBTyxDQUFDLENBQUM7RUFDWDtBQUNGO0FBRUEsU0FBU08sTUFBTUEsQ0FBQ0MsR0FBRyxFQUFFO0VBQ25CWixVQUFVLENBQUMsQ0FBQztFQUNaLElBQUk7SUFDRlIsRUFBRSxDQUFDcUIsYUFBYSxDQUFDZCxJQUFJLEVBQUVVLElBQUksQ0FBQ0ssU0FBUyxDQUFDRixHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFO01BQUVULElBQUksRUFBRTtJQUFNLENBQUMsQ0FBQztJQUNyRSxPQUFPLElBQUk7RUFDYixDQUFDLENBQUMsT0FBT0MsQ0FBQyxFQUFFO0lBQ1YsT0FBTyxLQUFLO0VBQ2Q7QUFDRjtBQUVBLFNBQVNXLFFBQVFBLENBQUEsRUFBRztFQUNsQixJQUFJQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsZ0JBQWdCLEVBQUUsT0FBT0YsT0FBTyxDQUFDQyxHQUFHLENBQUNDLGdCQUFnQjtFQUNyRSxNQUFNQyxHQUFHLEdBQUdkLEtBQUssQ0FBQyxDQUFDO0VBQ25CLE9BQU9jLEdBQUcsQ0FBQ0MsS0FBSyxJQUFJLElBQUk7QUFDMUI7QUFFQSxTQUFTQyxRQUFRQSxDQUFDRCxLQUFLLEVBQUU7RUFDdkIsTUFBTUQsR0FBRyxHQUFHZCxLQUFLLENBQUMsQ0FBQztFQUNuQmMsR0FBRyxDQUFDQyxLQUFLLEdBQUdBLEtBQUs7RUFDakIsT0FBT1QsTUFBTSxDQUFDUSxHQUFHLENBQUM7QUFDcEI7QUFFQSxTQUFTRyxVQUFVQSxDQUFBLEVBQUc7RUFDcEIsTUFBTUgsR0FBRyxHQUFHZCxLQUFLLENBQUMsQ0FBQztFQUNuQixPQUFPYyxHQUFHLENBQUNDLEtBQUs7RUFDaEIsT0FBT1QsTUFBTSxDQUFDUSxHQUFHLENBQUM7QUFDcEI7QUFFQUksTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRVQsUUFBUTtFQUFFTSxRQUFRO0VBQUVDLFVBQVU7RUFBRXZCO0FBQUssQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["fs","require","path","os","DIR","join","homedir","FILE","_ensureDir","mkdirSync","recursive","mode","e","_read","existsSync","raw","readFileSync","JSON","parse","_write","obj","writeFileSync","stringify","getToken","process","env","LLM_ROUTER_TOKEN","cfg","token","setToken","clearToken","module","exports"],"sourceRoot":"/home/remixonwin/Documents/llm_router/cli/src/","sources":["config.js"],"sourcesContent":["const fs = require('fs');\nconst path = require('path');\nconst os = require('os');\n\nconst DIR = path.join(os.homedir(), '.llm-router-cli');\nconst FILE = path.join(DIR, 'config.json');\n\nfunction _ensureDir() {\n  try {\n    fs.mkdirSync(DIR, { recursive: true, mode: 0o700 });\n  } catch (e) {\n    // ignore\n  }\n}\n\nfunction _read() {\n  try {\n    if (!fs.existsSync(FILE)) return {};\n    const raw = fs.readFileSync(FILE, 'utf8');\n    return JSON.parse(raw || '{}');\n  } catch (e) {\n    return {};\n  }\n}\n\nfunction _write(obj) {\n  _ensureDir();\n  try {\n    fs.writeFileSync(FILE, JSON.stringify(obj, null, 2), { mode: 0o600 });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction getToken() {\n  if (process.env.LLM_ROUTER_TOKEN) return process.env.LLM_ROUTER_TOKEN;\n  const cfg = _read();\n  return cfg.token || null;\n}\n\nfunction setToken(token) {\n  const cfg = _read();\n  cfg.token = token;\n  return _write(cfg);\n}\n\nfunction clearToken() {\n  const cfg = _read();\n  delete cfg.token;\n  return _write(cfg);\n}\n\nmodule.exports = { getToken, setToken, clearToken, FILE };\n"],"mappings":";;AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AACxB,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAME,EAAE,GAAGF,OAAO,CAAC,IAAI,CAAC;AAExB,MAAMG,GAAG,GAAGF,IAAI,CAACG,IAAI,CAACF,EAAE,CAACG,OAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC;AACtD,MAAMC,IAAI,GAAGL,IAAI,CAACG,IAAI,CAACD,GAAG,EAAE,aAAa,CAAC;AAE1C,SAASI,UAAUA,CAAA,EAAG;EACpB,IAAI;IACFR,EAAE,CAACS,SAAS,CAACL,GAAG,EAAE;MAAEM,SAAS,EAAE,IAAI;MAAEC,IAAI,EAAE;IAAM,CAAC,CAAC;EACrD,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV;EAAA;AAEJ;AAEA,SAASC,KAAKA,CAAA,EAAG;EACf,IAAI;IACF,IAAI,CAACb,EAAE,CAACc,UAAU,CAACP,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC;IACnC,MAAMQ,GAAG,GAAGf,EAAE,CAACgB,YAAY,CAACT,IAAI,EAAE,MAAM,CAAC;IACzC,OAAOU,IAAI,CAACC,KAAK,CAACH,GAAG,IAAI,IAAI,CAAC;EAChC,CAAC,CAAC,OAAOH,CAAC,EAAE;IACV,OAAO,CAAC,CAAC;EACX;AACF;AAEA,SAASO,MAAMA,CAACC,GAAG,EAAE;EACnBZ,UAAU,CAAC,CAAC;EACZ,IAAI;IACFR,EAAE,CAACqB,aAAa,CAACd,IAAI,EAAEU,IAAI,CAACK,SAAS,CAACF,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;MAAET,IAAI,EAAE;IAAM,CAAC,CAAC;IACrE,OAAO,IAAI;EACb,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV,OAAO,KAAK;EACd;AACF;AAEA,SAASW,QAAQA,CAAA,EAAG;EAClB,IAAIC,OAAO,CAACC,GAAG,CAACC,gBAAgB,EAAE,OAAOF,OAAO,CAACC,GAAG,CAACC,gBAAgB;EACrE,MAAMC,GAAG,GAAGd,KAAK,CAAC,CAAC;EACnB,OAAOc,GAAG,CAACC,KAAK,IAAI,IAAI;AAC1B;AAEA,SAASC,QAAQA,CAACD,KAAK,EAAE;EACvB,MAAMD,GAAG,GAAGd,KAAK,CAAC,CAAC;EACnBc,GAAG,CAACC,KAAK,GAAGA,KAAK;EACjB,OAAOT,MAAM,CAACQ,GAAG,CAAC;AACpB;AAEA,SAASG,UAAUA,CAAA,EAAG;EACpB,MAAMH,GAAG,GAAGd,KAAK,CAAC,CAAC;EACnB,OAAOc,GAAG,CAACC,KAAK;EAChB,OAAOT,MAAM,CAACQ,GAAG,CAAC;AACpB;AAEAI,MAAM,CAACC,OAAO,GAAG;EAAET,QAAQ;EAAEM,QAAQ;EAAEC,UAAU;EAAEvB;AAAK,CAAC","ignoreList":[]}},"mtime":1771616334221},"{\"assumptions\":{},\"sourceRoot\":\"/home/remixonwin/Documents/llm_router/cli/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/remixonwin/Documents/llm_router/cli\",\"filename\":\"/home/remixonwin/Documents/llm_router/cli/src/api.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/remixonwin/Documents/llm_router/cli\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"runtime\":\"automatic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.29.0:development":{"value":{"code":"\"use strict\";\n\nconst {\n  request\n} = require('undici');\nconst BASE = process.env.LLM_ROUTER_URL || 'http://localhost:8080';\nconst config = require('./config');\nfunction _authHeaders() {\n  const token = config.getToken();\n  const headers = {\n    'content-type': 'application/json'\n  };\n  if (token) headers['authorization'] = `Bearer ${token}`;\n  return headers;\n}\nasync function get(path) {\n  const url = `${BASE}${path}`;\n  const {\n    body\n  } = await request(url, {\n    method: 'GET'\n  });\n  const text = await body.text();\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\nasync function post(path, data) {\n  const url = `${BASE}${path}`;\n  const {\n    body\n  } = await request(url, {\n    method: 'POST',\n    headers: _authHeaders(),\n    body: JSON.stringify(data)\n  });\n  const text = await body.text();\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\n// Post with streaming support. onChunk will be called with string chunks as they\n// arrive. Returns a Promise that resolves when stream ends.\nasync function postStream(path, data, onChunk, onDone, onError) {\n  const url = `${BASE}${path}`;\n  try {\n    const {\n      body\n    } = await request(url, {\n      method: 'POST',\n      headers: _authHeaders(),\n      body: JSON.stringify(data)\n    });\n\n    // Node stream readable\n    if (body && typeof body.on === 'function') {\n      body.setEncoding && body.setEncoding('utf8');\n\n      // Robust parser: handle plain chunks, server-sent-events (lines starting\n      // with \"data: \"), and partial JSON fragments. We accumulate a buffer\n      // and emit cleaned messages via onChunk.\n      let buf = '';\n      function flushLine(line) {\n        if (!line) return;\n        // SSE style: \"data: {...}\" or multiple data: lines; strip prefix\n        if (line.startsWith('data:')) {\n          const v = line.replace(/^data:\\s*/i, '');\n          try {\n            const parsed = JSON.parse(v);\n            onChunk(JSON.stringify(parsed));\n            return;\n          } catch (e) {\n            onChunk(v);\n            return;\n          }\n        }\n\n        // Try to parse as JSON whole message\n        try {\n          const parsed = JSON.parse(line);\n          onChunk(JSON.stringify(parsed));\n          return;\n        } catch (_) {\n          // Not JSON, emit raw\n          onChunk(line);\n        }\n      }\n      body.on('data', chunk => {\n        try {\n          const s = typeof chunk === 'string' ? chunk : chunk.toString('utf8');\n          buf += s;\n\n          // Split on newlines; keep partial last line in buffer\n          const parts = buf.split(/\\r?\\n/);\n          buf = parts.pop() || '';\n          for (const part of parts) {\n            // Ignore keep-alive lines\n            const trimmed = part.trim();\n            if (!trimmed) continue;\n            flushLine(trimmed);\n          }\n        } catch (e) {\n          // swallow handler errors\n        }\n      });\n      body.on('end', () => {\n        if (buf && buf.trim()) flushLine(buf.trim());\n        onDone && onDone();\n      });\n      body.on('error', err => onError && onError(err));\n      return;\n    }\n\n    // Fallback: attempt to read as text\n    const text = await body.text();\n    onChunk && onChunk(text);\n    onDone && onDone();\n  } catch (err) {\n    onError && onError(err);\n  }\n}\nmodule.exports = {\n  get,\n  post,\n  postStream\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsIkJBU0UiLCJwcm9jZXNzIiwiZW52IiwiTExNX1JPVVRFUl9VUkwiLCJjb25maWciLCJfYXV0aEhlYWRlcnMiLCJ0b2tlbiIsImdldFRva2VuIiwiaGVhZGVycyIsImdldCIsInBhdGgiLCJ1cmwiLCJib2R5IiwibWV0aG9kIiwidGV4dCIsIkpTT04iLCJwYXJzZSIsImUiLCJwb3N0IiwiZGF0YSIsInN0cmluZ2lmeSIsInBvc3RTdHJlYW0iLCJvbkNodW5rIiwib25Eb25lIiwib25FcnJvciIsIm9uIiwic2V0RW5jb2RpbmciLCJidWYiLCJmbHVzaExpbmUiLCJsaW5lIiwic3RhcnRzV2l0aCIsInYiLCJyZXBsYWNlIiwicGFyc2VkIiwiXyIsImNodW5rIiwicyIsInRvU3RyaW5nIiwicGFydHMiLCJzcGxpdCIsInBvcCIsInBhcnQiLCJ0cmltbWVkIiwidHJpbSIsImVyciIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL3JlbWl4b253aW4vRG9jdW1lbnRzL2xsbV9yb3V0ZXIvY2xpL3NyYy8iLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHJlcXVlc3QgfSA9IHJlcXVpcmUoJ3VuZGljaScpO1xuXG5jb25zdCBCQVNFID0gcHJvY2Vzcy5lbnYuTExNX1JPVVRFUl9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCc7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xuXG5mdW5jdGlvbiBfYXV0aEhlYWRlcnMoKSB7XG4gIGNvbnN0IHRva2VuID0gY29uZmlnLmdldFRva2VuKCk7XG4gIGNvbnN0IGhlYWRlcnMgPSB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTtcbiAgaWYgKHRva2VuKSBoZWFkZXJzWydhdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgcmV0dXJuIGhlYWRlcnM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldChwYXRoKSB7XG4gIGNvbnN0IHVybCA9IGAke0JBU0V9JHtwYXRofWA7XG4gIGNvbnN0IHsgYm9keSB9ID0gYXdhaXQgcmVxdWVzdCh1cmwsIHsgbWV0aG9kOiAnR0VUJyB9KTtcbiAgY29uc3QgdGV4dCA9IGF3YWl0IGJvZHkudGV4dCgpO1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcG9zdChwYXRoLCBkYXRhKSB7XG4gIGNvbnN0IHVybCA9IGAke0JBU0V9JHtwYXRofWA7XG4gIGNvbnN0IHsgYm9keSB9ID0gYXdhaXQgcmVxdWVzdCh1cmwsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiBfYXV0aEhlYWRlcnMoKSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgfSk7XG4gIGNvbnN0IHRleHQgPSBhd2FpdCBib2R5LnRleHQoKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG59XG5cbi8vIFBvc3Qgd2l0aCBzdHJlYW1pbmcgc3VwcG9ydC4gb25DaHVuayB3aWxsIGJlIGNhbGxlZCB3aXRoIHN0cmluZyBjaHVua3MgYXMgdGhleVxuLy8gYXJyaXZlLiBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gc3RyZWFtIGVuZHMuXG5hc3luYyBmdW5jdGlvbiBwb3N0U3RyZWFtKHBhdGgsIGRhdGEsIG9uQ2h1bmssIG9uRG9uZSwgb25FcnJvcikge1xuICBjb25zdCB1cmwgPSBgJHtCQVNFfSR7cGF0aH1gO1xuICB0cnkge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gYXdhaXQgcmVxdWVzdCh1cmwsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogX2F1dGhIZWFkZXJzKCksXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KTtcblxuICAgIC8vIE5vZGUgc3RyZWFtIHJlYWRhYmxlXG4gICAgaWYgKGJvZHkgJiYgdHlwZW9mIGJvZHkub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJvZHkuc2V0RW5jb2RpbmcgJiYgYm9keS5zZXRFbmNvZGluZygndXRmOCcpO1xuXG4gICAgICAvLyBSb2J1c3QgcGFyc2VyOiBoYW5kbGUgcGxhaW4gY2h1bmtzLCBzZXJ2ZXItc2VudC1ldmVudHMgKGxpbmVzIHN0YXJ0aW5nXG4gICAgICAvLyB3aXRoIFwiZGF0YTogXCIpLCBhbmQgcGFydGlhbCBKU09OIGZyYWdtZW50cy4gV2UgYWNjdW11bGF0ZSBhIGJ1ZmZlclxuICAgICAgLy8gYW5kIGVtaXQgY2xlYW5lZCBtZXNzYWdlcyB2aWEgb25DaHVuay5cbiAgICAgIGxldCBidWYgPSAnJztcblxuICAgICAgZnVuY3Rpb24gZmx1c2hMaW5lKGxpbmUpIHtcbiAgICAgICAgaWYgKCFsaW5lKSByZXR1cm47XG4gICAgICAgIC8vIFNTRSBzdHlsZTogXCJkYXRhOiB7Li4ufVwiIG9yIG11bHRpcGxlIGRhdGE6IGxpbmVzOyBzdHJpcCBwcmVmaXhcbiAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnZGF0YTonKSkge1xuICAgICAgICAgIGNvbnN0IHYgPSBsaW5lLnJlcGxhY2UoL15kYXRhOlxccyovaSwgJycpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHYpO1xuICAgICAgICAgICAgb25DaHVuayhKU09OLnN0cmluZ2lmeShwYXJzZWQpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBvbkNodW5rKHYpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyeSB0byBwYXJzZSBhcyBKU09OIHdob2xlIG1lc3NhZ2VcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGxpbmUpO1xuICAgICAgICAgIG9uQ2h1bmsoSlNPTi5zdHJpbmdpZnkocGFyc2VkKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgLy8gTm90IEpTT04sIGVtaXQgcmF3XG4gICAgICAgICAgb25DaHVuayhsaW5lKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBib2R5Lm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcyA9IHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycgPyBjaHVuayA6IGNodW5rLnRvU3RyaW5nKCd1dGY4Jyk7XG4gICAgICAgICAgYnVmICs9IHM7XG5cbiAgICAgICAgICAvLyBTcGxpdCBvbiBuZXdsaW5lczsga2VlcCBwYXJ0aWFsIGxhc3QgbGluZSBpbiBidWZmZXJcbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IGJ1Zi5zcGxpdCgvXFxyP1xcbi8pO1xuICAgICAgICAgIGJ1ZiA9IHBhcnRzLnBvcCgpIHx8ICcnO1xuICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgICAgICAgICAgLy8gSWdub3JlIGtlZXAtYWxpdmUgbGluZXNcbiAgICAgICAgICAgIGNvbnN0IHRyaW1tZWQgPSBwYXJ0LnRyaW0oKTtcbiAgICAgICAgICAgIGlmICghdHJpbW1lZCkgY29udGludWU7XG4gICAgICAgICAgICBmbHVzaExpbmUodHJpbW1lZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gc3dhbGxvdyBoYW5kbGVyIGVycm9yc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGJvZHkub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgaWYgKGJ1ZiAmJiBidWYudHJpbSgpKSBmbHVzaExpbmUoYnVmLnRyaW0oKSk7XG4gICAgICAgIG9uRG9uZSAmJiBvbkRvbmUoKTtcbiAgICAgIH0pO1xuICAgICAgYm9keS5vbignZXJyb3InLCAoZXJyKSA9PiBvbkVycm9yICYmIG9uRXJyb3IoZXJyKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2s6IGF0dGVtcHQgdG8gcmVhZCBhcyB0ZXh0XG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IGJvZHkudGV4dCgpO1xuICAgIG9uQ2h1bmsgJiYgb25DaHVuayh0ZXh0KTtcbiAgICBvbkRvbmUgJiYgb25Eb25lKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIG9uRXJyb3IgJiYgb25FcnJvcihlcnIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBnZXQsIHBvc3QsIHBvc3RTdHJlYW0gfTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNO0VBQUVBO0FBQVEsQ0FBQyxHQUFHQyxPQUFPLENBQUMsUUFBUSxDQUFDO0FBRXJDLE1BQU1DLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLGNBQWMsSUFBSSx1QkFBdUI7QUFDbEUsTUFBTUMsTUFBTSxHQUFHTCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRWxDLFNBQVNNLFlBQVlBLENBQUEsRUFBRztFQUN0QixNQUFNQyxLQUFLLEdBQUdGLE1BQU0sQ0FBQ0csUUFBUSxDQUFDLENBQUM7RUFDL0IsTUFBTUMsT0FBTyxHQUFHO0lBQUUsY0FBYyxFQUFFO0VBQW1CLENBQUM7RUFDdEQsSUFBSUYsS0FBSyxFQUFFRSxPQUFPLENBQUMsZUFBZSxDQUFDLEdBQUcsVUFBVUYsS0FBSyxFQUFFO0VBQ3ZELE9BQU9FLE9BQU87QUFDaEI7QUFFQSxlQUFlQyxHQUFHQSxDQUFDQyxJQUFJLEVBQUU7RUFDdkIsTUFBTUMsR0FBRyxHQUFHLEdBQUdYLElBQUksR0FBR1UsSUFBSSxFQUFFO0VBQzVCLE1BQU07SUFBRUU7RUFBSyxDQUFDLEdBQUcsTUFBTWQsT0FB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","map":{"version":3,"names":["request","require","BASE","process","env","LLM_ROUTER_URL","config","_authHeaders","token","getToken","headers","get","path","url","body","method","text","JSON","parse","e","post","data","stringify","postStream","onChunk","onDone","onError","on","setEncoding","buf","flushLine","line","startsWith","v","replace","parsed","_","chunk","s","toString","parts","split","pop","part","trimmed","trim","err","module","exports"],"sourceRoot":"/home/remixonwin/Documents/llm_router/cli/src/","sources":["api.js"],"sourcesContent":["const { request } = require('undici');\n\nconst BASE = process.env.LLM_ROUTER_URL || 'http://localhost:8080';\nconst config = require('./config');\n\nfunction _authHeaders() {\n  const token = config.getToken();\n  const headers = { 'content-type': 'application/json' };\n  if (token) headers['authorization'] = `Bearer ${token}`;\n  return headers;\n}\n\nasync function get(path) {\n  const url = `${BASE}${path}`;\n  const { body } = await request(url, { method: 'GET' });\n  const text = await body.text();\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\nasync function post(path, data) {\n  const url = `${BASE}${path}`;\n  const { body } = await request(url, {\n    method: 'POST',\n    headers: _authHeaders(),\n    body: JSON.stringify(data),\n  });\n  const text = await body.text();\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\n// Post with streaming support. onChunk will be called with string chunks as they\n// arrive. Returns a Promise that resolves when stream ends.\nasync function postStream(path, data, onChunk, onDone, onError) {\n  const url = `${BASE}${path}`;\n  try {\n    const { body } = await request(url, {\n      method: 'POST',\n      headers: _authHeaders(),\n      body: JSON.stringify(data),\n    });\n\n    // Node stream readable\n    if (body && typeof body.on === 'function') {\n      body.setEncoding && body.setEncoding('utf8');\n\n      // Robust parser: handle plain chunks, server-sent-events (lines starting\n      // with \"data: \"), and partial JSON fragments. We accumulate a buffer\n      // and emit cleaned messages via onChunk.\n      let buf = '';\n\n      function flushLine(line) {\n        if (!line) return;\n        // SSE style: \"data: {...}\" or multiple data: lines; strip prefix\n        if (line.startsWith('data:')) {\n          const v = line.replace(/^data:\\s*/i, '');\n          try {\n            const parsed = JSON.parse(v);\n            onChunk(JSON.stringify(parsed));\n            return;\n          } catch (e) {\n            onChunk(v);\n            return;\n          }\n        }\n\n        // Try to parse as JSON whole message\n        try {\n          const parsed = JSON.parse(line);\n          onChunk(JSON.stringify(parsed));\n          return;\n        } catch (_) {\n          // Not JSON, emit raw\n          onChunk(line);\n        }\n      }\n\n      body.on('data', (chunk) => {\n        try {\n          const s = typeof chunk === 'string' ? chunk : chunk.toString('utf8');\n          buf += s;\n\n          // Split on newlines; keep partial last line in buffer\n          const parts = buf.split(/\\r?\\n/);\n          buf = parts.pop() || '';\n          for (const part of parts) {\n            // Ignore keep-alive lines\n            const trimmed = part.trim();\n            if (!trimmed) continue;\n            flushLine(trimmed);\n          }\n        } catch (e) {\n          // swallow handler errors\n        }\n      });\n      body.on('end', () => {\n        if (buf && buf.trim()) flushLine(buf.trim());\n        onDone && onDone();\n      });\n      body.on('error', (err) => onError && onError(err));\n      return;\n    }\n\n    // Fallback: attempt to read as text\n    const text = await body.text();\n    onChunk && onChunk(text);\n    onDone && onDone();\n  } catch (err) {\n    onError && onError(err);\n  }\n}\n\nmodule.exports = { get, post, postStream };\n"],"mappings":"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","ignoreList":[]}},"mtime":1771616984482},"{\"assumptions\":{},\"sourceRoot\":\"/home/remixonwin/Documents/llm_router/cli/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/remixonwin/Documents/llm_router/cli\",\"filename\":\"/home/remixonwin/Documents/llm_router/cli/src/config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/remixonwin/Documents/llm_router/cli\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-react-jsx\",\"visitor\":{\"JSXNamespacedName\":{\"enter\":[null]},\"JSXSpreadChild\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"JSXFragment\":{\"exit\":[null]},\"JSXElement\":{\"exit\":[null]},\"JSXAttribute\":{\"enter\":[null]}},\"options\":{\"runtime\":\"automatic\",\"throwIfNamespace\":true,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-react-display-name\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-react-pure-annotations\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-explicit-resource-management\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"BlockStatement\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/remixonwin/Documents/llm_router/cli/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.29.0:development":{"value":{"code":"\"use strict\";\n\nconst fs = require('fs');\nconst path = require('path');\nconst os = require('os');\nconst DIR = path.join(os.homedir(), '.llm-router-cli');\nconst FILE = path.join(DIR, 'config.json');\nfunction _ensureDir() {\n  try {\n    fs.mkdirSync(DIR, {\n      recursive: true,\n      mode: 0o700\n    });\n  } catch (e) {\n    // ignore\n  }\n}\nfunction _read() {\n  try {\n    if (!fs.existsSync(FILE)) return {};\n    const raw = fs.readFileSync(FILE, 'utf8');\n    return JSON.parse(raw || '{}');\n  } catch (e) {\n    return {};\n  }\n}\nfunction _write(obj) {\n  _ensureDir();\n  try {\n    fs.writeFileSync(FILE, JSON.stringify(obj, null, 2), {\n      mode: 0o600\n    });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction getToken() {\n  if (process.env.LLM_ROUTER_TOKEN) return process.env.LLM_ROUTER_TOKEN;\n  const cfg = _read();\n  return cfg.token || null;\n}\nfunction setToken(token) {\n  const cfg = _read();\n  cfg.token = token;\n  return _write(cfg);\n}\nfunction clearToken() {\n  const cfg = _read();\n  delete cfg.token;\n  return _write(cfg);\n}\nmodule.exports = {\n  getToken,\n  setToken,\n  clearToken,\n  FILE\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwib3MiLCJESVIiLCJqb2luIiwiaG9tZWRpciIsIkZJTEUiLCJfZW5zdXJlRGlyIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwibW9kZSIsImUiLCJfcmVhZCIsImV4aXN0c1N5bmMiLCJyYXciLCJyZWFkRmlsZVN5bmMiLCJKU09OIiwicGFyc2UiLCJfd3JpdGUiLCJvYmoiLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwiZ2V0VG9rZW4iLCJwcm9jZXNzIiwiZW52IiwiTExNX1JPVVRFUl9UT0tFTiIsImNmZyIsInRva2VuIiwic2V0VG9rZW4iLCJjbGVhclRva2VuIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvcmVtaXhvbndpbi9Eb2N1bWVudHMvbGxtX3JvdXRlci9jbGkvc3JjLyIsInNvdXJjZXMiOlsiY29uZmlnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCBvcyA9IHJlcXVpcmUoJ29zJyk7XG5cbmNvbnN0IERJUiA9IHBhdGguam9pbihvcy5ob21lZGlyKCksICcubGxtLXJvdXRlci1jbGknKTtcbmNvbnN0IEZJTEUgPSBwYXRoLmpvaW4oRElSLCAnY29uZmlnLmpzb24nKTtcblxuZnVuY3Rpb24gX2Vuc3VyZURpcigpIHtcbiAgdHJ5IHtcbiAgICBmcy5ta2RpclN5bmMoRElSLCB7IHJlY3Vyc2l2ZTogdHJ1ZSwgbW9kZTogMG83MDAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBpZ25vcmVcbiAgfVxufVxuXG5mdW5jdGlvbiBfcmVhZCgpIHtcbiAgdHJ5IHtcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMoRklMRSkpIHJldHVybiB7fTtcbiAgICBjb25zdCByYXcgPSBmcy5yZWFkRmlsZVN5bmMoRklMRSwgJ3V0ZjgnKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShyYXcgfHwgJ3t9Jyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbn1cblxuZnVuY3Rpb24gX3dyaXRlKG9iaikge1xuICBfZW5zdXJlRGlyKCk7XG4gIHRyeSB7XG4gICAgZnMud3JpdGVGaWxlU3luYyhGSUxFLCBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpLCB7IG1vZGU6IDBvNjAwIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRva2VuKCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTExNX1JPVVRFUl9UT0tFTikgcmV0dXJuIHByb2Nlc3MuZW52LkxMTV9ST1VURVJfVE9LRU47XG4gIGNvbnN0IGNmZyA9IF9yZWFkKCk7XG4gIHJldHVybiBjZmcudG9rZW4gfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gc2V0VG9rZW4odG9rZW4pIHtcbiAgY29uc3QgY2ZnID0gX3JlYWQoKTtcbiAgY2ZnLnRva2VuID0gdG9rZW47XG4gIHJldHVybiBfd3JpdGUoY2ZnKTtcbn1cblxuZnVuY3Rpb24gY2xlYXJUb2tlbigpIHtcbiAgY29uc3QgY2ZnID0gX3JlYWQoKTtcbiAgZGVsZXRlIGNmZy50b2tlbjtcbiAgcmV0dXJuIF93cml0ZShjZmcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgZ2V0VG9rZW4sIHNldFRva2VuLCBjbGVhclRva2VuLCBGSUxFIH07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLE1BQU1DLElBQUksR0FBR0QsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUM1QixNQUFNRSxFQUFFLEdBQUdGLE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFFeEIsTUFBTUcsR0FBRyxHQUFHRixJQUFJLENBQUNHLElBQUksQ0FBQ0YsRUFBRSxDQUFDRyxPQUFPLENBQUMsQ0FBQyxFQUFFLGlCQUFpQixDQUFDO0FBQ3RELE1BQU1DLElBQUksR0FBR0wsSUFBSSxDQUFDRyxJQUFJLENBQUNELEdBQUcsRUFBRSxhQUFhLENBQUM7QUFFMUMsU0FBU0ksVUFBVUEsQ0FBQSxFQUFHO0VBQ3BCLElBQUk7SUFDRlIsRUFBRSxDQUFDUyxTQUFTLENBQUNMLEdBQUcsRUFBRTtNQUFFTSxTQUFTLEVBQUUsSUFBSTtNQUFFQyxJQUFJLEVBQUU7SUFBTSxDQUFDLENBQUM7RUFDckQsQ0FBQyxDQUFDLE9BQU9DLENBQUMsRUFBRTtJQUNWO0VBQUE7QUFFSjtBQUVBLFNBQVNDLEtBQUtBLENBQUEsRUFBRztFQUNmLElBQUk7SUFDRixJQUFJLENBQUNiLEVBQUUsQ0FBQ2MsVUFBVSxDQUFDUCxJQUFJLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNuQyxNQUFNUSxHQUFHLEdBQUdmLEVBQUUsQ0FBQ2dCLFlBQVksQ0FBQ1QsSUFBSSxFQUFFLE1BQU0sQ0FBQztJQUN6QyxPQUFPVSxJQUFJLENBQUNDLEtBQUssQ0FBQ0gsR0FBRyxJQUFJLElBQUksQ0FBQztFQUNoQyxDQUFDLENBQUMsT0FBT0gsQ0FBQyxFQUFFO0lBQ1YsT0FBTyxDQUFDLENBQUM7RUFDWDtBQUNGO0FBRUEsU0FBU08sTUFBTUEsQ0FBQ0MsR0FBRyxFQUFFO0VBQ25CWixVQUFVLENBQUMsQ0FBQztFQUNaLElBQUk7SUFDRlIsRUFBRSxDQUFDcUIsYUFBYSxDQUFDZCxJQUFJLEVBQUVVLElBQUksQ0FBQ0ssU0FBUyxDQUFDRixHQUFHLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFO01BQUVULElBQUksRUFBRTtJQUFNLENBQUMsQ0FBQztJQUNyRSxPQUFPLElBQUk7RUFDYixDQUFDLENBQUMsT0FBT0MsQ0FBQyxFQUFFO0lBQ1YsT0FBTyxLQUFLO0VBQ2Q7QUFDRjtBQUVBLFNBQVNXLFFBQVFBLENBQUEsRUFBRztFQUNsQixJQUFJQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsZ0JBQWdCLEVBQUUsT0FBT0YsT0FBTyxDQUFDQyxHQUFHLENBQUNDLGdCQUFnQjtFQUNyRSxNQUFNQyxHQUFHLEdBQUdkLEtBQUssQ0FBQyxDQUFDO0VBQ25CLE9BQU9jLEdBQUcsQ0FBQ0MsS0FBSyxJQUFJLElBQUk7QUFDMUI7QUFFQSxTQUFTQyxRQUFRQSxDQUFDRCxLQUFLLEVBQUU7RUFDdkIsTUFBTUQsR0FBRyxHQUFHZCxLQUFLLENBQUMsQ0FBQztFQUNuQmMsR0FBRyxDQUFDQyxLQUFLLEdBQUdBLEtBQUs7RUFDakIsT0FBT1QsTUFBTSxDQUFDUSxHQUFHLENBQUM7QUFDcEI7QUFFQSxTQUFTRyxVQUFVQSxDQUFBLEVBQUc7RUFDcEIsTUFBTUgsR0FBRyxHQUFHZCxLQUFLLENBQUMsQ0FBQztFQUNuQixPQUFPYyxHQUFHLENBQUNDLEtBQUs7RUFDaEIsT0FBT1QsTUFBTSxDQUFDUSxHQUFHLENBQUM7QUFDcEI7QUFFQUksTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFBRVQsUUFBUTtFQUFFTSxRQUFRO0VBQUVDLFVBQVU7RUFBRXZCO0FBQUssQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["fs","require","path","os","DIR","join","homedir","FILE","_ensureDir","mkdirSync","recursive","mode","e","_read","existsSync","raw","readFileSync","JSON","parse","_write","obj","writeFileSync","stringify","getToken","process","env","LLM_ROUTER_TOKEN","cfg","token","setToken","clearToken","module","exports"],"sourceRoot":"/home/remixonwin/Documents/llm_router/cli/src/","sources":["config.js"],"sourcesContent":["const fs = require('fs');\nconst path = require('path');\nconst os = require('os');\n\nconst DIR = path.join(os.homedir(), '.llm-router-cli');\nconst FILE = path.join(DIR, 'config.json');\n\nfunction _ensureDir() {\n  try {\n    fs.mkdirSync(DIR, { recursive: true, mode: 0o700 });\n  } catch (e) {\n    // ignore\n  }\n}\n\nfunction _read() {\n  try {\n    if (!fs.existsSync(FILE)) return {};\n    const raw = fs.readFileSync(FILE, 'utf8');\n    return JSON.parse(raw || '{}');\n  } catch (e) {\n    return {};\n  }\n}\n\nfunction _write(obj) {\n  _ensureDir();\n  try {\n    fs.writeFileSync(FILE, JSON.stringify(obj, null, 2), { mode: 0o600 });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction getToken() {\n  if (process.env.LLM_ROUTER_TOKEN) return process.env.LLM_ROUTER_TOKEN;\n  const cfg = _read();\n  return cfg.token || null;\n}\n\nfunction setToken(token) {\n  const cfg = _read();\n  cfg.token = token;\n  return _write(cfg);\n}\n\nfunction clearToken() {\n  const cfg = _read();\n  delete cfg.token;\n  return _write(cfg);\n}\n\nmodule.exports = { getToken, setToken, clearToken, FILE };\n"],"mappings":";;AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AACxB,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAME,EAAE,GAAGF,OAAO,CAAC,IAAI,CAAC;AAExB,MAAMG,GAAG,GAAGF,IAAI,CAACG,IAAI,CAACF,EAAE,CAACG,OAAO,CAAC,CAAC,EAAE,iBAAiB,CAAC;AACtD,MAAMC,IAAI,GAAGL,IAAI,CAACG,IAAI,CAACD,GAAG,EAAE,aAAa,CAAC;AAE1C,SAASI,UAAUA,CAAA,EAAG;EACpB,IAAI;IACFR,EAAE,CAACS,SAAS,CAACL,GAAG,EAAE;MAAEM,SAAS,EAAE,IAAI;MAAEC,IAAI,EAAE;IAAM,CAAC,CAAC;EACrD,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV;EAAA;AAEJ;AAEA,SAASC,KAAKA,CAAA,EAAG;EACf,IAAI;IACF,IAAI,CAACb,EAAE,CAACc,UAAU,CAACP,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC;IACnC,MAAMQ,GAAG,GAAGf,EAAE,CAACgB,YAAY,CAACT,IAAI,EAAE,MAAM,CAAC;IACzC,OAAOU,IAAI,CAACC,KAAK,CAACH,GAAG,IAAI,IAAI,CAAC;EAChC,CAAC,CAAC,OAAOH,CAAC,EAAE;IACV,OAAO,CAAC,CAAC;EACX;AACF;AAEA,SAASO,MAAMA,CAACC,GAAG,EAAE;EACnBZ,UAAU,CAAC,CAAC;EACZ,IAAI;IACFR,EAAE,CAACqB,aAAa,CAACd,IAAI,EAAEU,IAAI,CAACK,SAAS,CAACF,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE;MAAET,IAAI,EAAE;IAAM,CAAC,CAAC;IACrE,OAAO,IAAI;EACb,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV,OAAO,KAAK;EACd;AACF;AAEA,SAASW,QAAQA,CAAA,EAAG;EAClB,IAAIC,OAAO,CAACC,GAAG,CAACC,gBAAgB,EAAE,OAAOF,OAAO,CAACC,GAAG,CAACC,gBAAgB;EACrE,MAAMC,GAAG,GAAGd,KAAK,CAAC,CAAC;EACnB,OAAOc,GAAG,CAACC,KAAK,IAAI,IAAI;AAC1B;AAEA,SAASC,QAAQA,CAACD,KAAK,EAAE;EACvB,MAAMD,GAAG,GAAGd,KAAK,CAAC,CAAC;EACnBc,GAAG,CAACC,KAAK,GAAGA,KAAK;EACjB,OAAOT,MAAM,CAACQ,GAAG,CAAC;AACpB;AAEA,SAASG,UAAUA,CAAA,EAAG;EACpB,MAAMH,GAAG,GAAGd,KAAK,CAAC,CAAC;EACnB,OAAOc,GAAG,CAACC,KAAK;EAChB,OAAOT,MAAM,CAACQ,GAAG,CAAC;AACpB;AAEAI,MAAM,CAACC,OAAO,GAAG;EAAET,QAAQ;EAAEM,QAAQ;EAAEC,UAAU;EAAEvB;AAAK,CAAC","ignoreList":[]}},"mtime":1771616334221}}