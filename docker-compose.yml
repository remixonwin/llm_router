services:
  llm_router:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: llm_router
    ports:
      - "7440:7440"
    environment:
      - ROUTER_HOST=0.0.0.0
      - ROUTER_PORT=7440
      - ROUTER_REQUIRE_API_KEY=false
      - ROUTER_LOG_LEVEL=INFO
      - ROUTER_CACHE_DIR=/tmp/llm_router_cache
      - ROUTER_CORS_ALLOW_ALL=true
    volumes:
      - llm_router_cache:/tmp/llm_router_cache
    restart: unless-stopped
    networks:
      - llm_router_network

  llm_router_frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    container_name: llm_router_frontend
    ports:
      - "3000:3000"
    depends_on:
      - llm_router
    restart: unless-stopped
    networks:
      - llm_router_network

networks:
  llm_router_network:
    driver: bridge

volumes:
  llm_router_cache:
